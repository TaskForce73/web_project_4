!function(){"use strict";var e={730:function(e,t,s){e.exports=s.p+"2f8a4cd99a9a7a10b10b.png"},14:function(e,t,s){e.exports=s.p+"4e8e0a1d604782a0dff8.svg"}},t={};function s(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,s),i.exports}s.p="",function(){class e{constructor(e,t,s){let{data:r,handleCardClick:n,handleDeleteButton:i,handleLikeButton:o}=e;this._name=r.name,this._link=r.link,this._cardSelector=s,this._handleCardClick=n,this._handleDeleteButton=i,this._handleLikeButton=o,this._id=r._id,this._owner=r.owner,this._userId=t,this._likes=r.likes,this._likesAmount=r.likes.length,this.liked=!1}_getTemplate(){return this._element=document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0),this._element}removeCard(){this._element.remove(),this._element=null}_getId(){return this._id}_deleteButton(){const e=this._element.querySelector(".element__bin");this._owner._id!==this._userId&&e.remove()}_setEventListeners(){this._elementBin.addEventListener("click",(()=>{this._handleDeleteButton(this._getId())})),this._likeButton.addEventListener("click",(()=>{this._handleLikeButton(this._likeButton,this._getId())})),this._elementPicture.addEventListener("click",(()=>{this._handleCardClick(this._name,this._link)}))}like(e){e.classList.add("element__button_active"),this._liked=!0}unlike(e){e.classList.remove("element__button_active"),this._liked=!1}displayTotalLikes(e){this._counter.textContent=e}isLiked(){return this._liked}_handleCardLikes(){Array.from(this._likes).forEach((e=>{e._id===this._userId&&this._likeButton.classList.add("element__button_active")}))}generateCard(){return this._element=this._getTemplate(),this._elementBin=this._element.querySelector(".element__bin"),this._likeButton=this._element.querySelector(".element__button"),this._elementPicture=this._element.querySelector(".element__picture"),this._counter=this._element.querySelector(".element__button-counter"),this._setEventListeners(),this._elementPicture.src=this._link,this._elementPicture.alt="Photo of ".concat(this._name),this._element.querySelector(".element__header").textContent=this._name,this._counter.textContent=this._likesAmount,this._handleCardLikes(),this._deleteButton(),this._element}}class t{constructor(e){var t,s;s=e=>{"Escape"===e.key&&this.close()},(t="_handleEscapeClose")in this?Object.defineProperty(this,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):this[t]=s,this._popup=document.querySelector(e)}open(){this._popup.classList.add("popup_open"),document.addEventListener("keydown",this._handleEscapeClose)}close(){this._popup.classList.remove("popup_open"),document.removeEventListener("keydown",this._handleEscapeClose)}setEventListeners(){this._popup.addEventListener("mousedown",(e=>{(e.target.classList.contains("popup_open")||e.target.classList.contains("popup__close"))&&this.close()}))}}class r extends t{constructor(e,t){super(e),this._handleSubmit=t,this._form=this._popup.querySelector(".popup__form"),this._submitButton=this._popup.querySelector(".popup__button"),this._inputs=[...this._form.querySelectorAll(".popup__input")]}_getInputValues(){const e={};return this._inputs.forEach((t=>{e[t.name]=t.value})),e}changeButtonText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Saving...";this._submitButton.textContent=e}setEventListeners(){this._form.addEventListener("submit",(e=>{this.changeButtonText(),e.preventDefault(),this._handleSubmit(this._getInputValues())})),super.setEventListeners()}close(){this._form.reset(),super.close()}}function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class i{constructor(e,t){n(this,"_showInputError",(e=>{this._errorElement=this._formElement.querySelector(".".concat(e.id,"-error")),e.classList.add(this._inputErrorClass),this._errorElement.textContent=e.validationMessage,this._errorElement.classList.add(this._errorClass)})),n(this,"_hideInputError",(e=>{this._errorElement=this._formElement.querySelector(".".concat(e.id,"-error")),e.classList.remove(this._inputErrorClass),this._errorElement.classList.remove(this._errorClass),this._errorElement.textContent=""})),n(this,"_checkInputValidity",(e=>{e.validity.valid?this._hideInputError(e):this._showInputError(e)})),n(this,"_hasInvalidInput",(e=>Array.from(e).some((e=>!e.validity.valid)))),n(this,"_toggleButtonState",(()=>{this._hasInvalidInput(this._inputsList)?(this._elementButton.classList.add(this._inactiveButtonClass),this._elementButton.setAttribute("disabled",!0)):(this._elementButton.classList.remove(this._inactiveButtonClass),this._elementButton.removeAttribute("disabled"))})),n(this,"_setEventListeners",(()=>{this._inputsList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._toggleButtonState(),this._inputsList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))})),n(this,"enableValidation",(()=>{this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()})),n(this,"resetValidation",(()=>{this._inputsList.forEach((e=>{this._hideInputError(e)})),this._toggleButtonState()})),this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=t,this._elementButton=this._formElement.querySelector(this._submitButtonSelector)}}var o=s(14),a=s(730);const l=document.querySelector(".profile__plus"),c=document.querySelector(".popup__form"),h=document.querySelector(".profile__edit"),_=document.querySelector(".popup__form_second"),u=document.querySelector(".popup__input-name"),d=document.querySelector(".popup__input-about"),p=document.querySelector(".profile__overlay"),m=document.querySelector(".popup__form_avatar");document.getElementById("around-the-us").src=o,document.getElementById("profile-image").src=a;const f=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s}_checkResponse(e){return e.ok?e.json():Promise.reject("Error!"+e.statusText)}getInitialCards(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then(this._checkResponse)}getUserInfo(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then(this._checkResponse)}editProfile(e){let{name:t,about:s}=e;return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify({name:t,about:s})}).then(this._checkResponse)}createCard(e){let{name:t,link:s}=e;return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:s})}).then(this._checkResponse)}deleteCard(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}likeCard(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then(this._checkResponse)}dislikeCard(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}changeAvatar(e){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._checkResponse)}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"32b9efa0-6f35-4afe-975e-e3a6be43cfcb","Content-Type":"application/json"}}),v={};var b;b={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},Array.from(document.querySelectorAll(b.formSelector)).forEach((e=>{const t=new i(b,e),s=e.getAttribute("name");v[s]=t,t.enableValidation()}));const k=new class extends t{setAction(e){this._submitHandler=e}setEventListeners(){this._form=this._popup.querySelector(".popup__form"),this._popup.addEventListener("submit",(e=>{e.preventDefault(),this._submitHandler(this._form)})),super.setEventListeners()}}(".popup_card_remover");k.setEventListeners();const g=new class extends t{open(e,t){this._image=this._popup.querySelector(".popup__image"),this._caption=this._popup.querySelector(".popup__description"),this._caption.textContent=e,this._image.alt="Photo of ".concat(e),this._image.src=t,super.open()}}(".popup_big_image");g.setEventListeners();const E=new r(".popup_profile_adder",(e=>{f.editProfile({name:e.name,about:e.about}).then((e=>{C.setUserInfo({name:e.name,about:e.about}),E.close()})).catch((e=>console.log(e))).finally((()=>{E.changeButtonText("Save")}))}));E.setEventListeners();const S=new r(".popup_profile_changer",(e=>{f.changeAvatar(e.avatar).then((e=>{C.setUserAvatar({avatar:e.avatar}),S.close()})).catch((e=>console.log(e))).finally((()=>{S.changeButtonText("Save")}))}));S.setEventListeners();const y=new r(".popup_card_publisher",(e=>{f.createCard({name:e.description,link:e.link}).then((e=>{L.addItem(B(e,e.owner._id)),y.close()})).catch((e=>console.log(e))).finally((()=>{y.changeButtonText("Save")}))}));y.setEventListeners(),Promise.all([f.getInitialCards(),f.getUserInfo()]).then((e=>{let[t,s]=e;C.setUserInfo({name:s.name,about:s.about}),L.render(t)})).catch((e=>{console.log(e)}));const L=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=document.querySelector(t)}addItem(e){this._container.prepend(e)}render(e){e.forEach((e=>{this._renderer(e)}))}}({renderer:e=>{L.addItem(B(e))}},".elements__list"),C=new class{constructor(e){let{profileNameSelector:t,profileJobSelector:s,avatarSelector:r}=e;this._profileName=document.querySelector(t),this._profileJob=document.querySelector(s),this._avatar=document.querySelector(r)}getUserInfo(){return{name:this._profileName.textContent,job:this._profileJob.textContent}}setUserInfo(e){let{name:t,about:s}=e;this._profileName.textContent=t,this._profileJob.textContent=s}getUserAvatar(){return{avatar:this._avatar.src}}setUserAvatar(e){let{avatar:t}=e;this._avatar.src=t}}({profileNameSelector:".profile__author",profileJobSelector:".profile__text",avatarSelector:".profile__image"});function B(t,s){const r=new e({data:t,handleCardClick:(e,t)=>{g.open(e,t)},handleDeleteButton:e=>{k.open(e),k.setAction((()=>{f.deleteCard(e).then((()=>{r.removeCard(),k.close()})).catch((e=>console.log(e)))}))},handleLikeButton:(e,t)=>{r.isLiked()?f.dislikeCard(t).then((t=>{r.displayTotalLikes(t.likes.length),r.unlike(e)})).catch((e=>console.log(e))):f.likeCard(t).then((t=>{r.displayTotalLikes(t.likes.length),r.like(e)})).catch((e=>console.log(e)))}},s,"#card-template");return r.generateCard()}h.addEventListener("click",(()=>{v[c.getAttribute("name")].resetValidation(),function(){const e=C.getUserInfo();u.value=e.name,d.value=e.job}(),E.open()})),l.addEventListener("click",(()=>{v[_.getAttribute("name")].resetValidation(),y.open()})),p.addEventListener("click",(()=>{v[m.getAttribute("name")].resetValidation(),S.open()}))}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UzJDLGFBQWEsU0FBUzJDLGtCQUM5Q3hCLEVBQWF2SCxVQUdmNEQsRUFBaUJ4RixpQkFBaUIsU0FBUyxLQUN6QzJILEVBQWVsQyxFQUFXdUMsYUFBYSxTQUFTMkMsa0JBQ2hEMUIsRUFBZ0JySCxVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80L3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Gcm9tVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoU3VibWl0LmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvVXNlckluZm8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHsgZGF0YSwgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVEZWxldGVCdXR0b24sIGhhbmRsZUxpa2VCdXR0b24gfSxcbiAgICB1c2VySWQsXG4gICAgY2FyZFNlbGVjdG9yXG4gICkge1xuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUJ1dHRvbiA9IGhhbmRsZURlbGV0ZUJ1dHRvbjtcbiAgICB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uID0gaGFuZGxlTGlrZUJ1dHRvbjtcbiAgICB0aGlzLl9pZCA9IGRhdGEuX2lkO1xuICAgIHRoaXMuX293bmVyID0gZGF0YS5vd25lcjtcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xuICAgIHRoaXMuX2xpa2VzQW1vdW50ID0gZGF0YS5saWtlcy5sZW5ndGg7XG4gICAgdGhpcy5saWtlZCA9IGZhbHNlO1xuICB9XG5cbiAgX2dldFRlbXBsYXRlKCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50XCIpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG5cbiAgcmVtb3ZlQ2FyZCgpIHtcbiAgICBjb25zdCBjYXJkID0gdGhpcy5fZWxlbWVudDtcbiAgICBjYXJkLnJlbW92ZSgpO1xuICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICB9XG5cbiAgX2dldElkKCkge1xuICAgIHJldHVybiB0aGlzLl9pZDtcbiAgfVxuXG4gIF9kZWxldGVCdXR0b24oKSB7XG4gICAgY29uc3QgY2FyZFRyYXNoQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2JpblwiKTtcbiAgICBpZiAodGhpcy5fb3duZXIuX2lkICE9PSB0aGlzLl91c2VySWQpIHtcbiAgICAgIGNhcmRUcmFzaEJ1dHRvbi5yZW1vdmUoKTtcbiAgICB9XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fZWxlbWVudEJpbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQnV0dG9uKHRoaXMuX2dldElkKCkpO1xuICAgIH0pO1xuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VCdXR0b24odGhpcy5fbGlrZUJ1dHRvbiwgdGhpcy5fZ2V0SWQoKSk7XG4gICAgfSk7XG4gICAgdGhpcy5fZWxlbWVudFBpY3R1cmUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKTtcbiAgICB9KTtcbiAgfVxuXG4gIGxpa2UobGlrZUJ1dHRvbikge1xuICAgIGxpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImVsZW1lbnRfX2J1dHRvbl9hY3RpdmVcIik7XG4gICAgdGhpcy5fbGlrZWQgPSB0cnVlO1xuICB9XG5cbiAgdW5saWtlKGxpa2VCdXR0b24pIHtcbiAgICBsaWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJlbGVtZW50X19idXR0b25fYWN0aXZlXCIpO1xuICAgIHRoaXMuX2xpa2VkID0gZmFsc2U7XG4gIH1cblxuICBkaXNwbGF5VG90YWxMaWtlcyh0b3RhbExpa2VzKSB7XG4gICAgdGhpcy5fY291bnRlci50ZXh0Q29udGVudCA9IHRvdGFsTGlrZXM7XG4gIH1cblxuICBpc0xpa2VkKCkge1xuICAgIHJldHVybiB0aGlzLl9saWtlZDtcbiAgfVxuXG4gIF9oYW5kbGVDYXJkTGlrZXMoKSB7XG4gICAgY29uc3QgY2FyZExpa2VzID0gQXJyYXkuZnJvbSh0aGlzLl9saWtlcyk7XG4gICAgY2FyZExpa2VzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgIGlmIChlbGVtZW50Ll9pZCA9PT0gdGhpcy5fdXNlcklkKSB7XG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImVsZW1lbnRfX2J1dHRvbl9hY3RpdmVcIik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgdGhpcy5fZWxlbWVudEJpbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19iaW5cIik7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19idXR0b25cIik7XG4gICAgdGhpcy5fZWxlbWVudFBpY3R1cmUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fcGljdHVyZVwiKTtcbiAgICB0aGlzLl9jb3VudGVyID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2J1dHRvbi1jb3VudGVyXCIpO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fZWxlbWVudFBpY3R1cmUuc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9lbGVtZW50UGljdHVyZS5hbHQgPSBgUGhvdG8gb2YgJHt0aGlzLl9uYW1lfWA7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2hlYWRlclwiKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fY291bnRlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzQW1vdW50O1xuICAgIHRoaXMuX2hhbmRsZUNhcmRMaWtlcygpO1xuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbigpO1xuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gIH1cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlblwiKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NhcGVDbG9zZSk7XG4gIH1cblxuICBjbG9zZSgpICB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5cIik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjYXBlQ2xvc2UpO1xuICB9O1xuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGUpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBfb3BlblwiKSB8fFxuICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9fY2xvc2VcIilcbiAgICAgICkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBfaGFuZGxlRXNjYXBlQ2xvc2UgPSAoZSkgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfTtcbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlU3VibWl0KSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlU3VibWl0ID0gaGFuZGxlU3VibWl0O1xuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J1dHRvblwiKTtcbiAgICB0aGlzLl9pbnB1dHMgPSBbLi4udGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dFwiKV07XG4gIH1cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpbnB1dFZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiBpbnB1dFZhbHVlcztcbiAgfVxuXG4gIGNoYW5nZUJ1dHRvblRleHQodGV4dCA9IFwiU2F2aW5nLi4uXCIpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0ZXh0O1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgICB0aGlzLmNoYW5nZUJ1dHRvblRleHQoKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgICB9KTtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gc2V0dGluZ3MuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBzZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHNldHRpbmdzLmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gc2V0dGluZ3MuZXJyb3JDbGFzcztcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgIHRoaXMuX2VsZW1lbnRCdXR0b24gPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3JcbiAgICApO1xuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yID0gKGlucHV0RWxlbWVudCkgPT4ge1xuICAgIHRoaXMuX2Vycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIHRoaXMuX2Vycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9O1xuXG4gIF9oaWRlSW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIHRoaXMuX2Vycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICAgIHRoaXMuX2Vycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIH07XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eSA9IChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9XG4gIH07XG5cbiAgX2hhc0ludmFsaWRJbnB1dCA9IChpbnB1dHNMaXN0KSA9PiB7XG4gICAgY29uc3QgaW5wdXRzID0gQXJyYXkuZnJvbShpbnB1dHNMaXN0KTtcbiAgICByZXR1cm4gaW5wdXRzLnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH07XG5cbiAgX3RvZ2dsZUJ1dHRvblN0YXRlID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQodGhpcy5faW5wdXRzTGlzdCkpIHtcbiAgICAgIHRoaXMuX2VsZW1lbnRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX2VsZW1lbnRCdXR0b24uc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2VsZW1lbnRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX2VsZW1lbnRCdXR0b24ucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG4gICAgfVxuICB9O1xuXG4gIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcbiAgICB0aGlzLl9pbnB1dHNMaXN0ID0gQXJyYXkuZnJvbShcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcilcbiAgICApO1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgdGhpcy5faW5wdXRzTGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIGVuYWJsZVZhbGlkYXRpb24gPSAoKSA9PiB7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9O1xuXG4gIHJlc2V0VmFsaWRhdGlvbiA9ICgpID0+IHtcbiAgICB0aGlzLl9pbnB1dHNMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9KTtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICB9O1xufVxuIiwiaW1wb3J0IFwiLi4vcGFnZXMvaW5kZXguY3NzXCI7IFxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9DYXJkXCI7IFxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2VcIjsgXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm1cIjsgXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9Vc2VySW5mb1wiOyBcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvU2VjdGlvblwiOyBcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvRnJvbVZhbGlkYXRvclwiOyBcbmltcG9ydCBQb3B1cFdpdGhTdWJtaXQgZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhTdWJtaXRcIjsgXG5pbXBvcnQgQXBpIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvQXBpXCI7IFxuaW1wb3J0IHsgcGFnZVNldHRpbmdzIH0gZnJvbSBcIi4uL3NjcmlwdHMvdXRpbHMvY29uc3RhbnRzXCI7IFxuXG5jb25zdCBwbHVzUHJvZmlsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fcGx1c1wiKTsgXG5jb25zdCBwcm9maWxlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7IFxuY29uc3QgZWRpdFByb2ZpbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXRcIik7IFxuY29uc3QgY2FyZEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtX3NlY29uZFwiKTsgXG5jb25zdCBwcm9maWxlSW5wdXROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXQtbmFtZVwiKTsgXG5jb25zdCBwcm9maWxlSW5wdXRBYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2lucHV0LWFib3V0XCIpOyBcbmNvbnN0IGVkaXRBdmF0YXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX292ZXJsYXlcIik7IFxuY29uc3QgYXZhdGFyRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1fYXZhdGFyXCIpOyBcblxuaW1wb3J0IGhlYWRlclNyYyBmcm9tIFwiLi4vaW1hZ2VzL2hlYWRlci5zdmdcIjsgXG5jb25zdCBoZWFkZXJJbWFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXJvdW5kLXRoZS11c1wiKTsgXG5oZWFkZXJJbWFnZS5zcmMgPSBoZWFkZXJTcmM7IFxuXG5pbXBvcnQgcHJvZmlsZVNyYyBmcm9tIFwiLi4vaW1hZ2VzL0NvdXN0ZWF1LnBuZ1wiO1xuY29uc3QgcHJvZmlsZUltYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9maWxlLWltYWdlXCIpO1xucHJvZmlsZUltYWdlLnNyYyA9IHByb2ZpbGVTcmM7XG5cbmNvbnN0IGFwaSA9IG5ldyBBcGkoeyBcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTEyXCIsIFxuICBoZWFkZXJzOiB7IFxuICAgIGF1dGhvcml6YXRpb246IFwiMzJiOWVmYTAtNmYzNS00YWZlLTk3NWUtZTNhNmJlNDNjZmNiXCIsIFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLCBcbiAgfSwgXG59KTsgXG5cbmNvbnN0IGZvcm1WYWxpZGF0b3JzID0ge307IFxuXG5jb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKGNvbmZpZykgPT4geyBcbiAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmZvcm1TZWxlY3RvcikpOyBcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHsgXG4gICAgY29uc3QgdmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBmb3JtRWxlbWVudCk7IFxuICAgIGNvbnN0IGZvcm1OYW1lID0gZm9ybUVsZW1lbnQuZ2V0QXR0cmlidXRlKFwibmFtZVwiKTsgXG4gICAgZm9ybVZhbGlkYXRvcnNbZm9ybU5hbWVdID0gdmFsaWRhdG9yOyBcbiAgICB2YWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpOyBcbiAgfSk7IFxufTsgXG5lbmFibGVWYWxpZGF0aW9uKHBhZ2VTZXR0aW5ncyk7IFxuXG5jb25zdCBjb25maXJtTW9kYWwgPSBuZXcgUG9wdXBXaXRoU3VibWl0KFwiLnBvcHVwX2NhcmRfcmVtb3ZlclwiKTsgXG5jb25maXJtTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTsgXG5cbmNvbnN0IGltYWdlTW9kYWwgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIucG9wdXBfYmlnX2ltYWdlXCIpOyBcbmltYWdlTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTsgXG5cbmNvbnN0IGVkaXRNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwX3Byb2ZpbGVfYWRkZXJcIiwgKGRhdGEpID0+IHtcbiAgYXBpXG4gICAgLmVkaXRQcm9maWxlKHsgbmFtZTogZGF0YS5uYW1lLCBhYm91dDogZGF0YS5hYm91dCB9KVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHsgbmFtZTogcmVzLm5hbWUsIGFib3V0OiByZXMuYWJvdXQgfSk7XG4gICAgICBlZGl0TW9kYWwuY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIGVkaXRNb2RhbC5jaGFuZ2VCdXR0b25UZXh0KFwiU2F2ZVwiKTtcbiAgICB9KTtcbn0pO1xuZWRpdE1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cblxuY29uc3QgYXZhdGFyRWRpdE1vZGFsID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfcHJvZmlsZV9jaGFuZ2VyXCIsIChkYXRhKSA9PiB7XG4gIGFwaVxuICAgIC5jaGFuZ2VBdmF0YXIoZGF0YS5hdmF0YXIpXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgdXNlckluZm8uc2V0VXNlckF2YXRhcih7IGF2YXRhcjogcmVzLmF2YXRhciB9KTtcbiAgICAgIGF2YXRhckVkaXRNb2RhbC5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgYXZhdGFyRWRpdE1vZGFsLmNoYW5nZUJ1dHRvblRleHQoXCJTYXZlXCIpO1xuICAgIH0pO1xufSk7XG5hdmF0YXJFZGl0TW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgYWRkQ2FyZE1vZGFsID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfY2FyZF9wdWJsaXNoZXJcIiwgKGRhdGEpID0+IHtcbiAgYXBpXG4gICAgLmNyZWF0ZUNhcmQoeyBuYW1lOiBkYXRhLmRlc2NyaXB0aW9uLCBsaW5rOiBkYXRhLmxpbmsgfSlcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICBzZWN0aW9uLmFkZEl0ZW0oY3JlYXRlTmV3Q2FyZChyZXMsIHJlcy5vd25lci5faWQpKTtcbiAgICAgIGFkZENhcmRNb2RhbC5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgYWRkQ2FyZE1vZGFsLmNoYW5nZUJ1dHRvblRleHQoXCJTYXZlXCIpO1xuICAgIH0pO1xufSk7XG5hZGRDYXJkTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuUHJvbWlzZS5hbGwoW2FwaS5nZXRJbml0aWFsQ2FyZHMoKSwgYXBpLmdldFVzZXJJbmZvKCldKVxuICAudGhlbigoW2NhcmREYXRhLCB1c2VyRGF0YV0pID0+IHtcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh7IG5hbWU6IHVzZXJEYXRhLm5hbWUsIGFib3V0OiB1c2VyRGF0YS5hYm91dCB9KTtcbiAgICBzZWN0aW9uLnJlbmRlcihjYXJkRGF0YSk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5sb2coZXJyKTtcbiAgfSk7XG5cbiAgY29uc3Qgc2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxuICAgIHtcbiAgICAgIHJlbmRlcmVyOiAoY2FyZERhdGEpID0+IHtcbiAgICAgICAgc2VjdGlvbi5hZGRJdGVtKGNyZWF0ZU5ld0NhcmQoY2FyZERhdGEpKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgICBcIi5lbGVtZW50c19fbGlzdFwiXG4gICk7XG5cbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHsgXG4gIHByb2ZpbGVOYW1lU2VsZWN0b3I6IFwiLnByb2ZpbGVfX2F1dGhvclwiLCBcbiAgcHJvZmlsZUpvYlNlbGVjdG9yOiBcIi5wcm9maWxlX190ZXh0XCIsIFxuICBhdmF0YXJTZWxlY3RvcjogXCIucHJvZmlsZV9faW1hZ2VcIiwgXG59KTsgXG5cbmZ1bmN0aW9uIGNyZWF0ZU5ld0NhcmQoZGF0YSwgaWQpIHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgIHtcbiAgICAgIGRhdGEsXG4gICAgICBoYW5kbGVDYXJkQ2xpY2s6IChuYW1lLCBsaW5rKSA9PiB7XG4gICAgICAgIGltYWdlTW9kYWwub3BlbihuYW1lLCBsaW5rKTtcbiAgICAgIH0sXG4gICAgICBoYW5kbGVEZWxldGVCdXR0b246IChjYXJkSWQpID0+IHtcbiAgICAgICAgY29uZmlybU1vZGFsLm9wZW4oY2FyZElkKTtcbiAgICAgICAgY29uZmlybU1vZGFsLnNldEFjdGlvbigoKSA9PiB7XG4gICAgICAgICAgYXBpXG4gICAgICAgICAgICAuZGVsZXRlQ2FyZChjYXJkSWQpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGNhcmQucmVtb3ZlQ2FyZCgpO1xuICAgICAgICAgICAgICBjb25maXJtTW9kYWwuY2xvc2UoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGhhbmRsZUxpa2VCdXR0b246IChsaWtlQnV0dG9uLCBpZCkgPT4ge1xuICAgICAgICBpZiAoY2FyZC5pc0xpa2VkKCkpIHtcbiAgICAgICAgICBhcGlcbiAgICAgICAgICAgIC5kaXNsaWtlQ2FyZChpZClcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgY2FyZC5kaXNwbGF5VG90YWxMaWtlcyhyZXMubGlrZXMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgY2FyZC51bmxpa2UobGlrZUJ1dHRvbik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFwaVxuICAgICAgICAgICAgLmxpa2VDYXJkKGlkKVxuICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgICBjYXJkLmRpc3BsYXlUb3RhbExpa2VzKHJlcy5saWtlcy5sZW5ndGgpO1xuICAgICAgICAgICAgICBjYXJkLmxpa2UobGlrZUJ1dHRvbik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0sXG4gICAgaWQsXG4gICAgXCIjY2FyZC10ZW1wbGF0ZVwiXG4gICk7XG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xufVxuXG5mdW5jdGlvbiBmaWxsUHJvZmlsZUZvcm0oKSB7IFxuICBjb25zdCB1c2VyRGF0YSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7IFxuICBwcm9maWxlSW5wdXROYW1lLnZhbHVlID0gdXNlckRhdGEubmFtZTsgXG4gIHByb2ZpbGVJbnB1dEFib3V0LnZhbHVlID0gdXNlckRhdGEuam9iOyBcbn0gXG5cbmVkaXRQcm9maWxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7IFxuICBmb3JtVmFsaWRhdG9yc1twcm9maWxlRm9ybS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpXS5yZXNldFZhbGlkYXRpb24oKTsgXG4gIGZpbGxQcm9maWxlRm9ybSgpOyBcbiAgZWRpdE1vZGFsLm9wZW4oKTsgXG59KTsgXG5cbnBsdXNQcm9maWxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7IFxuICBmb3JtVmFsaWRhdG9yc1tjYXJkRm9ybS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpXS5yZXNldFZhbGlkYXRpb24oKTsgXG4gIGFkZENhcmRNb2RhbC5vcGVuKCk7IFxufSk7IFxuXG5lZGl0QXZhdGFyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7IFxuICBmb3JtVmFsaWRhdG9yc1thdmF0YXJGb3JtLmdldEF0dHJpYnV0ZShcIm5hbWVcIildLnJlc2V0VmFsaWRhdGlvbigpOyBcbiAgYXZhdGFyRWRpdE1vZGFsLm9wZW4oKTsgXG59KTsgIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcbiAgfVxuXG4gIF9jaGVja1Jlc3BvbnNlKHJlcykge1xuICAgIHJldHVybiByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoXCJFcnJvciFcIiArIHJlcy5zdGF0dXNUZXh0KTtcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICBlZGl0UHJvZmlsZSh7IG5hbWUsIGFib3V0IH0pIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIGFib3V0LFxuICAgICAgfSksXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIGNyZWF0ZUNhcmQoeyBuYW1lLCBsaW5rIH0pIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgbGluayxcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICBkZWxldGVDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICBsaWtlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG5cbiAgZGlzbGlrZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIGNoYW5nZUF2YXRhcihhdmF0YXIpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhdmF0YXIsXG4gICAgICB9KSxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG59XG4iLCJleHBvcnQgY29uc3QgcGFnZVNldHRpbmdzID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX2J1dHRvblwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19idXR0b25fZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwicG9wdXBfX2Vycm9yX3Zpc2libGVcIixcbn07XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoU3VibWl0IGV4dGVuZHMgUG9wdXAge1xuICBzZXRBY3Rpb24oYWN0aW9uKSB7XG4gICAgdGhpcy5fc3VibWl0SGFuZGxlciA9IGFjdGlvbjtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX3N1Ym1pdEhhbmRsZXIodGhpcy5fZm9ybSk7XG4gICAgfSk7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBvcGVuKG5hbWUsIGxpbmspIHtcbiAgICB0aGlzLl9pbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlXCIpO1xuICAgIHRoaXMuX2NhcHRpb24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19kZXNjcmlwdGlvblwiKTtcbiAgICB0aGlzLl9jYXB0aW9uLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl9pbWFnZS5hbHQgPSBgUGhvdG8gb2YgJHtuYW1lfWA7XG4gICAgdGhpcy5faW1hZ2Uuc3JjID0gbGluaztcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgfVxuXG4gIGFkZEl0ZW0oY2FyZCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGNhcmQpO1xuICB9XG5cbiAgcmVuZGVyKGl0ZW1zKSB7XG4gICAgaXRlbXMuZm9yRWFjaCgoZGF0YSkgPT4ge1xuICAgICAgdGhpcy5fcmVuZGVyZXIoZGF0YSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IoeyBwcm9maWxlTmFtZVNlbGVjdG9yLCBwcm9maWxlSm9iU2VsZWN0b3IsIGF2YXRhclNlbGVjdG9yIH0pIHtcbiAgICB0aGlzLl9wcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZU5hbWVTZWxlY3Rvcik7XG4gICAgdGhpcy5fcHJvZmlsZUpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZUpvYlNlbGVjdG9yKTtcbiAgICB0aGlzLl9hdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudCxcbiAgICAgIGpvYjogdGhpcy5fcHJvZmlsZUpvYi50ZXh0Q29udGVudCxcbiAgICB9O1xuICB9XG5cbiAgc2V0VXNlckluZm8oeyBuYW1lLCBhYm91dCB9KSB7XG4gICAgdGhpcy5fcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIHRoaXMuX3Byb2ZpbGVKb2IudGV4dENvbnRlbnQgPSBhYm91dDtcbiAgfVxuXG4gIGdldFVzZXJBdmF0YXIoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGF2YXRhcjogdGhpcy5fYXZhdGFyLnNyYyxcbiAgICB9O1xuICB9XG5cbiAgc2V0VXNlckF2YXRhcih7IGF2YXRhciB9KSB7XG4gICAgdGhpcy5fYXZhdGFyLnNyYyA9IGF2YXRhcjtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwicCIsIkNhcmQiLCJjb25zdHJ1Y3RvciIsInVzZXJJZCIsImNhcmRTZWxlY3RvciIsImRhdGEiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVEZWxldGVCdXR0b24iLCJoYW5kbGVMaWtlQnV0dG9uIiwidGhpcyIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZURlbGV0ZUJ1dHRvbiIsIl9oYW5kbGVMaWtlQnV0dG9uIiwiX2lkIiwiX293bmVyIiwib3duZXIiLCJfdXNlcklkIiwiX2xpa2VzIiwibGlrZXMiLCJfbGlrZXNBbW91bnQiLCJsZW5ndGgiLCJsaWtlZCIsIl9nZXRUZW1wbGF0ZSIsIl9lbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsInJlbW92ZUNhcmQiLCJyZW1vdmUiLCJfZ2V0SWQiLCJfZGVsZXRlQnV0dG9uIiwiY2FyZFRyYXNoQnV0dG9uIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2VsZW1lbnRCaW4iLCJhZGRFdmVudExpc3RlbmVyIiwiX2xpa2VCdXR0b24iLCJfZWxlbWVudFBpY3R1cmUiLCJsaWtlIiwibGlrZUJ1dHRvbiIsImNsYXNzTGlzdCIsImFkZCIsIl9saWtlZCIsInVubGlrZSIsImRpc3BsYXlUb3RhbExpa2VzIiwidG90YWxMaWtlcyIsIl9jb3VudGVyIiwidGV4dENvbnRlbnQiLCJpc0xpa2VkIiwiX2hhbmRsZUNhcmRMaWtlcyIsIkFycmF5IiwiZnJvbSIsImZvckVhY2giLCJlbGVtZW50IiwiZ2VuZXJhdGVDYXJkIiwic3JjIiwiYWx0IiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiZSIsImtleSIsImNsb3NlIiwiX3BvcHVwIiwib3BlbiIsIl9oYW5kbGVFc2NhcGVDbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzZXRFdmVudExpc3RlbmVycyIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZVN1Ym1pdCIsInN1cGVyIiwiX2hhbmRsZVN1Ym1pdCIsIl9mb3JtIiwiX3N1Ym1pdEJ1dHRvbiIsIl9pbnB1dHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2dldElucHV0VmFsdWVzIiwiaW5wdXRWYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwiY2hhbmdlQnV0dG9uVGV4dCIsInRleHQiLCJwcmV2ZW50RGVmYXVsdCIsInJlc2V0IiwiRm9ybVZhbGlkYXRvciIsInNldHRpbmdzIiwiZm9ybUVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJfZXJyb3JFbGVtZW50IiwiX2Zvcm1FbGVtZW50IiwiaWQiLCJfaW5wdXRFcnJvckNsYXNzIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfZXJyb3JDbGFzcyIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJpbnB1dHNMaXN0Iiwic29tZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfaW5wdXRzTGlzdCIsIl9lbGVtZW50QnV0dG9uIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJfaW5wdXRTZWxlY3RvciIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJldnQiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsInBsdXNQcm9maWxlQnV0dG9uIiwicHJvZmlsZUZvcm0iLCJlZGl0UHJvZmlsZUJ1dHRvbiIsImNhcmRGb3JtIiwicHJvZmlsZUlucHV0TmFtZSIsInByb2ZpbGVJbnB1dEFib3V0IiwiZWRpdEF2YXRhckJ1dHRvbiIsImF2YXRhckZvcm0iLCJnZXRFbGVtZW50QnlJZCIsImhlYWRlclNyYyIsInByb2ZpbGVTcmMiLCJhcGkiLCJiYXNlVXJsIiwiaGVhZGVycyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJfY2hlY2tSZXNwb25zZSIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXNUZXh0IiwiZ2V0SW5pdGlhbENhcmRzIiwiZmV0Y2giLCJ0aGVuIiwiZ2V0VXNlckluZm8iLCJlZGl0UHJvZmlsZSIsImFib3V0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjcmVhdGVDYXJkIiwiZGVsZXRlQ2FyZCIsImNhcmRJZCIsImxpa2VDYXJkIiwiZGlzbGlrZUNhcmQiLCJjaGFuZ2VBdmF0YXIiLCJhdmF0YXIiLCJhdXRob3JpemF0aW9uIiwiZm9ybVZhbGlkYXRvcnMiLCJjb25maWciLCJmb3JtU2VsZWN0b3IiLCJ2YWxpZGF0b3IiLCJmb3JtTmFtZSIsImdldEF0dHJpYnV0ZSIsImVuYWJsZVZhbGlkYXRpb24iLCJjb25maXJtTW9kYWwiLCJzZXRBY3Rpb24iLCJhY3Rpb24iLCJfc3VibWl0SGFuZGxlciIsImltYWdlTW9kYWwiLCJfaW1hZ2UiLCJfY2FwdGlvbiIsImVkaXRNb2RhbCIsInVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJmaW5hbGx5IiwiYXZhdGFyRWRpdE1vZGFsIiwic2V0VXNlckF2YXRhciIsImFkZENhcmRNb2RhbCIsImRlc2NyaXB0aW9uIiwic2VjdGlvbiIsImFkZEl0ZW0iLCJjcmVhdGVOZXdDYXJkIiwiYWxsIiwiY2FyZERhdGEiLCJ1c2VyRGF0YSIsInJlbmRlciIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiY2FyZCIsInByZXBlbmQiLCJpdGVtcyIsInByb2ZpbGVOYW1lU2VsZWN0b3IiLCJwcm9maWxlSm9iU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl9wcm9maWxlTmFtZSIsIl9wcm9maWxlSm9iIiwiX2F2YXRhciIsImpvYiIsImdldFVzZXJBdmF0YXIiLCJyZXNldFZhbGlkYXRpb24iLCJmaWxsUHJvZmlsZUZvcm0iXSwic291cmNlUm9vdCI6IiJ9