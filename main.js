!function(){"use strict";var e={730:function(e,t,s){e.exports=s.p+"2f8a4cd99a9a7a10b10b.png"},14:function(e,t,s){e.exports=s.p+"4e8e0a1d604782a0dff8.svg"}},t={};function s(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,s),i.exports}s.p="",function(){function e(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class t{constructor(t,s,n){let{data:r,handleCardClick:i,handleDeleteButton:o,handleLikeButton:a}=t;e(this,"_getTemplate",(()=>(this._element=document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0),this._element))),e(this,"removeCard",(()=>{this._element.remove(),this._element=null})),e(this,"_setEventListeners",(()=>{this._elementBin=this._element.querySelector(".element__bin"),this._elementBin.addEventListener("click",(()=>{this._handleDeleteButton(this._getId())})),this._likeButton=this._element.querySelector(".element__button"),this._likeButton.addEventListener("click",(()=>{this._handleLikeButton(this._likeButton,this._getId())})),this._elementPicture.addEventListener("click",(()=>{this._handleCardClick(this._name,this._link)}))})),e(this,"generateCard",(()=>(this._element=this._getTemplate(),this._likeButton=this._element.querySelector(".element__button"),this._elementPicture=this._element.querySelector(".element__picture"),this._setEventListeners(),this._elementPicture.src=this._link,this._elementPicture.alt="Photo of ".concat(this._name),this._element.querySelector(".element__header").textContent=this._name,this._element.querySelector(".element__button-counter").textContent=this._likesAmount,this._handleCardLikes(),this._deleteButton(),this._element))),this._name=r.name,this._link=r.link,this._cardSelector=n,this._handleCardClick=i,this._handleDeleteButton=o,this._handleLikeButton=a,this._id=r._id,this._owner=r.owner,this._userId=s,this._likes=r.likes,this._likesAmount=r.likes.length}_getId(){return this._id}_deleteButton(){const e=this._element.querySelector(".element__bin");this._owner._id!==this._userId&&e.remove()}toggleLikeButton(e){e.classList.toggle("element__button_active")}displayTotalLikes(e){this._element.querySelector(".element__button-counter").textContent=e}_handleCardLikes(){const e=this._element.querySelector(".element__button");Array.from(this._likes).forEach((t=>{t._id===this._userId&&e.classList.add("element__button_active")}))}}function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class r{constructor(e){n(this,"close",(()=>{this._popup.classList.remove("popup_open"),document.removeEventListener("keydown",this._handleEscapeClose)})),n(this,"_handleEscapeClose",(e=>{"Escape"===e.key&&this.close()})),this._popup=document.querySelector(e)}open(){this._popup.classList.add("popup_open"),document.addEventListener("keydown",this._handleEscapeClose)}setEventListeners(){this._popup.addEventListener("mousedown",(e=>{(e.target.classList.contains("popup_open")||e.target.classList.contains("popup__close"))&&this.close()}))}}class i extends r{constructor(e,t){super(e),this._handleSubmit=t,this._form=this._popup.querySelector(".popup__form"),this._submitButton=this._popup.querySelector(".popup__button")}_getInputValues(){const e={};return[...this._form.querySelectorAll(".popup__input")].forEach((t=>{e[t.name]=t.value})),e}changeButtonText(){this._submitButton.textContent="Saving..."}showButtonText(){this._submitButton.textContent="Save"}setEventListeners(){this._form.addEventListener("submit",(e=>{this.changeButtonText(),e.preventDefault(),this._handleSubmit(this._getInputValues()),this._form.reset(),this.close()})),super.setEventListeners()}close(){this.showButtonText(),super.close()}}class o{constructor(e,t){let{items:s,renderer:n}=e;this._items=s,this._renderer=n,this._container=document.querySelector(t)}addItem(e){this._container.prepend(e)}render(){this._items.forEach((e=>{this._renderer(e)}))}}function a(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class l{constructor(e,t){a(this,"_showInputError",(e=>{this._errorElement=this._formElement.querySelector(".".concat(e.id,"-error")),e.classList.add(this._inputErrorClass),this._errorElement.textContent=e.validationMessage,this._errorElement.classList.add(this._errorClass)})),a(this,"_hideInputError",(e=>{this._errorElement=this._formElement.querySelector(".".concat(e.id,"-error")),e.classList.remove(this._inputErrorClass),this._errorElement.classList.remove(this._errorClass),this._errorElement.textContent=""})),a(this,"_checkInputValidity",(e=>{e.validity.valid?this._hideInputError(e):this._showInputError(e)})),a(this,"_hasInvalidInput",(e=>Array.from(e).some((e=>!e.validity.valid)))),a(this,"_toggleButtonState",(()=>{this._hasInvalidInput(this._inputsList)?(this._elementButton.classList.add(this._inactiveButtonClass),this._elementButton.setAttribute("disabled",!0)):(this._elementButton.classList.remove(this._inactiveButtonClass),this._elementButton.removeAttribute("disabled"))})),a(this,"_setEventListeners",(()=>{this._inputsList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._toggleButtonState(),this._inputsList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))})),a(this,"enableValidation",(()=>{this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()})),a(this,"resetValidation",(()=>{this._inputsList.forEach((e=>{this._hideInputError(e)})),this._toggleButtonState()})),this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=t,this._elementButton=this._formElement.querySelector(this._submitButtonSelector)}}const c=(e,t)=>fetch(e,t).then((e=>e.ok?e.json():Promise.reject("Error: ".concat(e.status)))).catch(console.log),u={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"};var _=s(14),h=s(730);const p=document.querySelector(".profile__plus"),d=document.querySelector(".popup__form"),m=document.querySelector(".profile__edit"),v=document.querySelector(".popup__form_second"),f=document.querySelector(".elements__list"),b=document.querySelector(".popup__input-name"),E=document.querySelector(".popup__input-about"),g=document.querySelector(".profile__overlay"),S=document.querySelector(".popup__form_avatar");let y;document.getElementById("around-the-us").src=_,document.getElementById("profile-image").src=h;const L=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s}getInitialCards(){return c("".concat(this._baseUrl,"/cards"),{headers:this._headers})}getUserInfo(){return c("".concat(this._baseUrl,"/users/me"),{headers:this._headers})}createCard(e){let{name:t,link:s}=e;return c("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:s})})}deleteCard(e){return c("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers})}likeCard(e){return c("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers})}dislikeCard(e){return c("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers})}changeAvatar(e){return c("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})})}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"32b9efa0-6f35-4afe-975e-e3a6be43cfcb","Content-Type":"application/json"}}),C=new l(u,v);C.enableValidation();const k=new l(u,d);k.enableValidation();const B=new l(u,S);B.enableValidation();const q=new class extends r{setAction(e){this._submitHandler=e,this._form=this._popup.querySelector(".popup__form")}setEventListeners(){this._popup.addEventListener("submit",(e=>{e.preventDefault(),this._submitHandler(this._form),this.close()})),super.setEventListeners()}}(".popup_card_remover");q.setEventListeners();const I=new class extends r{open(e,t){const s=this._popup.querySelector(".popup__image");this._popup.querySelector(".popup__description").textContent=e,s.alt="Photo of ".concat(e),s.src=t,super.open()}}(".popup_big_image");I.setEventListeners();const x=new i(".popup_profile_adder",(e=>{T.setUserInfo(e)}));x.setEventListeners();const w=new i(".popup_profile_changer",(e=>{L.changeAvatar(e.avatar).then((e=>{T.setUserAvatar({avatar:e.avatar})})).catch((e=>console.log(e)))}));w.setEventListeners();const U=new i(".popup_card_publisher",(e=>{L.createCard({name:e.description,link:e.link}).then((e=>{A(e)}))}));U.setEventListeners();const A=e=>{const s=function(e){const s=new t({data:e,handleCardClick:(e,t)=>{I.open(e,t)},handleDeleteButton:e=>{q.open(e),q.setAction((()=>{L.deleteCard(e).then((()=>{s.removeCard()}))}))},handleLikeButton:(e,t)=>{e.classList.contains("element__button_active")?L.dislikeCard(t).then((t=>{s.displayTotalLikes(t.likes.length),s.toggleLikeButton(e)})).catch((e=>console.log(e))):L.likeCard(t).then((t=>{s.displayTotalLikes(t.likes.length),s.toggleLikeButton(e)})).catch((e=>console.log(e)))}},y,"#card-template");return s.generateCard()}(e);f.prepend(s)};L.getUserInfo().then((e=>{y=e._id,T.setUserInfo({name:e.name,about:e.about})})),L.getInitialCards().then((e=>{new o({items:e,renderer:A},".elements__list").render()}));const T=new class{constructor(e){let{profileNameSelector:t,profileJobSelector:s,avatarSelector:n}=e;this._profileName=document.querySelector(t),this._profileJob=document.querySelector(s),this._avatar=document.querySelector(n)}getUserInfo(){return{name:this._profileName.textContent,job:this._profileJob.textContent}}setUserInfo(e){let{name:t,about:s}=e;this._profileName.textContent=t,this._profileJob.textContent=s}getUserAvatar(){return{avatar:this._avatar.src}}setUserAvatar(e){let{avatar:t}=e;this._avatar.src=t}}({profileNameSelector:".profile__author",profileJobSelector:".profile__text",avatarSelector:".profile__image"});m.addEventListener("click",(()=>{k.resetValidation(d),function(){const e=T.getUserInfo();b.value=e.name,E.value=e.job}(),x.open()})),p.addEventListener("click",(()=>{C.resetValidation(v),U.open()})),g.addEventListener("click",(()=>{B.resetValidation(S),w.open()}))}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Z0Isb0JBbURsQnRELEVBQWtCOUgsaUJBQWlCLFNBQVMsS0FDMUM0SixFQUFxQjhCLGdCQUFnQjdELEdBUHZDLFdBQ0UsTUFBTThELEVBQVd0QixFQUFTeEIsY0FDMUJaLEVBQWlCcEUsTUFBUThILEVBQVMxSyxLQUNsQ2lILEVBQWtCckUsTUFBUThILEVBQVNILElBS25DSSxHQUNBeEIsRUFBVXJILFVBR1o2RSxFQUFrQjVILGlCQUFpQixTQUFTLEtBQzFDMEosRUFBa0JnQyxnQkFBZ0IzRCxHQUNsQzJDLEVBQWEzSCxVQUdmb0YsRUFBaUJuSSxpQkFBaUIsU0FBUyxLQUN6QzZKLEVBQW9CNkIsZ0JBQWdCdEQsR0FDcENtQyxFQUFnQnhILFUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvRnJvbVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aFN1Ym1pdC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Vc2VySW5mby5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoXG4gICAgeyBkYXRhLCBoYW5kbGVDYXJkQ2xpY2ssIGhhbmRsZURlbGV0ZUJ1dHRvbiwgaGFuZGxlTGlrZUJ1dHRvbiB9LFxuICAgIHVzZXJJZCxcbiAgICBjYXJkU2VsZWN0b3JcbiAgKSB7XG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQnV0dG9uID0gaGFuZGxlRGVsZXRlQnV0dG9uO1xuICAgIHRoaXMuX2hhbmRsZUxpa2VCdXR0b24gPSBoYW5kbGVMaWtlQnV0dG9uO1xuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XG4gICAgdGhpcy5fb3duZXIgPSBkYXRhLm93bmVyO1xuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcbiAgICB0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7XG4gICAgdGhpcy5fbGlrZXNBbW91bnQgPSBkYXRhLmxpa2VzLmxlbmd0aDtcbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZSA9ICgpID0+IHtcbiAgICB0aGlzLl9lbGVtZW50ID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudFwiKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfTtcblxuICByZW1vdmVDYXJkID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhcmQgPSB0aGlzLl9lbGVtZW50O1xuICAgIGNhcmQucmVtb3ZlKCk7XG4gICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gIH07XG5cbiAgX2dldElkKCkge1xuICAgIHJldHVybiB0aGlzLl9pZDtcbiAgfVxuXG4gIF9kZWxldGVCdXR0b24oKSB7XG4gICAgY29uc3QgY2FyZFRyYXNoQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2JpblwiKTtcbiAgICBpZiAodGhpcy5fb3duZXIuX2lkICE9PSB0aGlzLl91c2VySWQpIHtcbiAgICAgIGNhcmRUcmFzaEJ1dHRvbi5yZW1vdmUoKTtcbiAgICB9XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgdGhpcy5fZWxlbWVudEJpbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19iaW5cIik7XG4gICAgdGhpcy5fZWxlbWVudEJpbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQnV0dG9uKHRoaXMuX2dldElkKCkpO1xuICAgIH0pO1xuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fYnV0dG9uXCIpO1xuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VCdXR0b24odGhpcy5fbGlrZUJ1dHRvbiwgdGhpcy5fZ2V0SWQoKSk7XG4gICAgfSk7XG4gICAgdGhpcy5fZWxlbWVudFBpY3R1cmUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKTtcbiAgICB9KTtcbiAgfTtcblxuICB0b2dnbGVMaWtlQnV0dG9uKGxpa2VCdXR0b24pIHtcbiAgICBsaWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXCJlbGVtZW50X19idXR0b25fYWN0aXZlXCIpO1xuICB9XG5cbiAgZGlzcGxheVRvdGFsTGlrZXModG90YWxMaWtlcykge1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19idXR0b24tY291bnRlclwiKS50ZXh0Q29udGVudCA9XG4gICAgICB0b3RhbExpa2VzO1xuICB9XG5cbiAgX2hhbmRsZUNhcmRMaWtlcygpIHtcbiAgICBjb25zdCBjYXJkTGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19idXR0b25cIik7XG4gICAgY29uc3QgY2FyZExpa2VzID0gQXJyYXkuZnJvbSh0aGlzLl9saWtlcyk7XG4gICAgY2FyZExpa2VzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgIGlmIChlbGVtZW50Ll9pZCA9PT0gdGhpcy5fdXNlcklkKSB7XG4gICAgICAgIGNhcmRMaWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJlbGVtZW50X19idXR0b25fYWN0aXZlXCIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZ2VuZXJhdGVDYXJkID0gKCkgPT4ge1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fYnV0dG9uXCIpO1xuICAgIHRoaXMuX2VsZW1lbnRQaWN0dXJlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX3BpY3R1cmVcIik7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9lbGVtZW50UGljdHVyZS5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX2VsZW1lbnRQaWN0dXJlLmFsdCA9IGBQaG90byBvZiAke3RoaXMuX25hbWV9YDtcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9faGVhZGVyXCIpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fYnV0dG9uLWNvdW50ZXJcIikudGV4dENvbnRlbnQgPVxuICAgICAgdGhpcy5fbGlrZXNBbW91bnQ7XG4gICAgdGhpcy5faGFuZGxlQ2FyZExpa2VzKCk7XG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uKCk7XG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gIH07XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gIH1cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlblwiKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NhcGVDbG9zZSk7XG4gIH1cblxuICBjbG9zZSA9ICgpID0+IHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlblwiKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NhcGVDbG9zZSk7XG4gIH07XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZSkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9vcGVuXCIpIHx8XG4gICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX19jbG9zZVwiKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIF9oYW5kbGVFc2NhcGVDbG9zZSA9IChlKSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9O1xufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwXCI7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVTdWJtaXQpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXQgPSBoYW5kbGVTdWJtaXQ7XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnV0dG9uXCIpO1xuICB9XG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xuICAgIGNvbnN0IGlucHV0cyA9IFsuLi50aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2lucHV0XCIpXTtcbiAgICBpbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIGlucHV0VmFsdWVzO1xuICB9XG5cbiAgY2hhbmdlQnV0dG9uVGV4dCgpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xuICB9XG5cbiAgc2hvd0J1dHRvblRleHQoKSB7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZlXCI7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICAgIHRoaXMuY2hhbmdlQnV0dG9uVGV4dCgpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgICAgdGhpcy5fZm9ybS5yZXNldCgpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pO1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLnNob3dCdXR0b25UZXh0KCk7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICB9XG5cbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoZGF0YSkgPT4ge1xuICAgICAgdGhpcy5fcmVuZGVyZXIoZGF0YSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gc2V0dGluZ3MuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBzZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHNldHRpbmdzLmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gc2V0dGluZ3MuZXJyb3JDbGFzcztcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgIHRoaXMuX2VsZW1lbnRCdXR0b24gPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3JcbiAgICApO1xuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yID0gKGlucHV0RWxlbWVudCkgPT4ge1xuICAgIHRoaXMuX2Vycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIHRoaXMuX2Vycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9O1xuXG4gIF9oaWRlSW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIHRoaXMuX2Vycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICAgIHRoaXMuX2Vycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIH07XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eSA9IChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9XG4gIH07XG5cbiAgX2hhc0ludmFsaWRJbnB1dCA9IChpbnB1dHNMaXN0KSA9PiB7XG4gICAgY29uc3QgaW5wdXRzID0gQXJyYXkuZnJvbShpbnB1dHNMaXN0KTtcbiAgICByZXR1cm4gaW5wdXRzLnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH07XG5cbiAgX3RvZ2dsZUJ1dHRvblN0YXRlID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQodGhpcy5faW5wdXRzTGlzdCkpIHtcbiAgICAgIHRoaXMuX2VsZW1lbnRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX2VsZW1lbnRCdXR0b24uc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2VsZW1lbnRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX2VsZW1lbnRCdXR0b24ucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG4gICAgfVxuICB9O1xuXG4gIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcbiAgICB0aGlzLl9pbnB1dHNMaXN0ID0gQXJyYXkuZnJvbShcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcilcbiAgICApO1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgdGhpcy5faW5wdXRzTGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIGVuYWJsZVZhbGlkYXRpb24gPSAoKSA9PiB7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9O1xuXG4gIHJlc2V0VmFsaWRhdGlvbiA9ICgpID0+IHtcbiAgICB0aGlzLl9pbnB1dHNMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9KTtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICB9O1xufVxuIiwiY29uc3QgY3VzdG9tRmV0Y2ggPSAodXJsLCBoZWFkZXJzKSA9PlxuICBmZXRjaCh1cmwsIGhlYWRlcnMpXG4gICAgLnRoZW4oKHJlcykgPT5cbiAgICAgIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKVxuICAgIClcbiAgICAuY2F0Y2goY29uc29sZS5sb2cpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xuICB9XG5cbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiBjdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSk7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pO1xuICB9XG5cbiAgY3JlYXRlQ2FyZCh7IG5hbWUsIGxpbmsgfSkge1xuICAgIHJldHVybiBjdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lLFxuICAgICAgICBsaW5rLFxuICAgICAgfSksXG4gICAgfSk7XG4gIH1cblxuICBkZWxldGVDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiBjdXN0b21GZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pO1xuICB9XG5cbiAgbGlrZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIGN1c3RvbUZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSk7XG4gIH1cblxuICBkaXNsaWtlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KTtcbiAgfVxuXG4gIGNoYW5nZUF2YXRhcihhdmF0YXIpIHtcbiAgICByZXR1cm4gY3VzdG9tRmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhdmF0YXIsXG4gICAgICB9KSxcbiAgICB9KTtcbiAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IHBhZ2VTZXR0aW5ncyA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fYnV0dG9uX2Rpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcInBvcHVwX19lcnJvcl92aXNpYmxlXCIsXG59O1xuIiwiaW1wb3J0IFwiLi4vcGFnZXMvaW5kZXguY3NzXCI7XG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL0NhcmRcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm1cIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1VzZXJJbmZvXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1NlY3Rpb25cIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvRnJvbVZhbGlkYXRvclwiO1xuaW1wb3J0IFBvcHVwV2l0aFN1Ym1pdCBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aFN1Ym1pdFwiO1xuaW1wb3J0IEFwaSBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL0FwaVwiO1xuaW1wb3J0IHsgcGFnZVNldHRpbmdzIH0gZnJvbSBcIi4uL3NjcmlwdHMvdXRpbHMvY29uc3RhbnRzXCI7XG5cbmNvbnN0IHBsdXNQcm9maWxlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19wbHVzXCIpO1xuY29uc3QgcHJvZmlsZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xuY29uc3QgZWRpdFByb2ZpbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXRcIik7XG5jb25zdCBjYXJkRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1fc2Vjb25kXCIpO1xuY29uc3QgZWxlbWVudExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19saXN0XCIpO1xuY29uc3QgcHJvZmlsZUlucHV0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2lucHV0LW5hbWVcIik7XG5jb25zdCBwcm9maWxlSW5wdXRBYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2lucHV0LWFib3V0XCIpO1xuY29uc3QgZWRpdEF2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fb3ZlcmxheVwiKTtcbmNvbnN0IGF2YXRhckZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtX2F2YXRhclwiKTtcbmxldCBpZDtcblxuaW1wb3J0IGhlYWRlclNyYyBmcm9tIFwiLi4vaW1hZ2VzL2hlYWRlci5zdmdcIjtcbmNvbnN0IGhlYWRlckltYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhcm91bmQtdGhlLXVzXCIpO1xuaGVhZGVySW1hZ2Uuc3JjID0gaGVhZGVyU3JjO1xuXG5pbXBvcnQgcHJvZmlsZVNyYyBmcm9tIFwiLi4vaW1hZ2VzL0NvdXN0ZWF1LnBuZ1wiO1xuY29uc3QgcHJvZmlsZUltYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9maWxlLWltYWdlXCIpO1xucHJvZmlsZUltYWdlLnNyYyA9IHByb2ZpbGVTcmM7XG5cbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvZ3JvdXAtMTJcIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiMzJiOWVmYTAtNmYzNS00YWZlLTk3NWUtZTNhNmJlNDNjZmNiXCIsXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIH0sXG59KTtcblxuY29uc3QgY2FyZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihwYWdlU2V0dGluZ3MsIGNhcmRGb3JtKTtcbmNhcmRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgcHJvZmlsZUZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihwYWdlU2V0dGluZ3MsIHByb2ZpbGVGb3JtKTtcbnByb2ZpbGVGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgYXZhdGFyRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHBhZ2VTZXR0aW5ncywgYXZhdGFyRm9ybSk7XG5hdmF0YXJGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgY29uZmlybU1vZGFsID0gbmV3IFBvcHVwV2l0aFN1Ym1pdChcIi5wb3B1cF9jYXJkX3JlbW92ZXJcIik7XG5jb25maXJtTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgaW1hZ2VNb2RhbCA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIi5wb3B1cF9iaWdfaW1hZ2VcIik7XG5pbWFnZU1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IGVkaXRNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwX3Byb2ZpbGVfYWRkZXJcIiwgKGRhdGEpID0+IHtcbiAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YSk7XG59KTtcbmVkaXRNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBhdmF0YXJFZGl0TW9kYWwgPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5wb3B1cF9wcm9maWxlX2NoYW5nZXJcIiwgKGRhdGEpID0+IHtcbiAgYXBpXG4gICAgLmNoYW5nZUF2YXRhcihkYXRhLmF2YXRhcilcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICB1c2VySW5mby5zZXRVc2VyQXZhdGFyKHsgYXZhdGFyOiByZXMuYXZhdGFyIH0pO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xufSk7XG5hdmF0YXJFZGl0TW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgYWRkQ2FyZE1vZGFsID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfY2FyZF9wdWJsaXNoZXJcIiwgKGRhdGEpID0+IHtcbiAgYXBpLmNyZWF0ZUNhcmQoeyBuYW1lOiBkYXRhLmRlc2NyaXB0aW9uLCBsaW5rOiBkYXRhLmxpbmsgfSkudGhlbigocmVzKSA9PiB7XG4gICAgcmVuZGVyQ2FyZChyZXMpO1xuICB9KTtcbn0pO1xuYWRkQ2FyZE1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IHJlbmRlckNhcmQgPSAoZGF0YSkgPT4ge1xuICBjb25zdCBjYXJkID0gY3JlYXRlTmV3Q2FyZChkYXRhKTtcbiAgZWxlbWVudExpc3QucHJlcGVuZChjYXJkKTtcbn07XG5cbmFwaS5nZXRVc2VySW5mbygpLnRoZW4oKHJlcykgPT4ge1xuICBpZCA9IHJlcy5faWQ7XG4gIHVzZXJJbmZvLnNldFVzZXJJbmZvKHsgbmFtZTogcmVzLm5hbWUsIGFib3V0OiByZXMuYWJvdXQgfSk7XG59KTtcblxuYXBpLmdldEluaXRpYWxDYXJkcygpLnRoZW4oKHJlcykgPT4ge1xuICBjb25zdCBzZWN0aW9uID0gbmV3IFNlY3Rpb24oXG4gICAge1xuICAgICAgaXRlbXM6IHJlcyxcbiAgICAgIHJlbmRlcmVyOiByZW5kZXJDYXJkLFxuICAgIH0sXG4gICAgXCIuZWxlbWVudHNfX2xpc3RcIlxuICApO1xuICBzZWN0aW9uLnJlbmRlcigpO1xufSk7XG5cbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcbiAgcHJvZmlsZU5hbWVTZWxlY3RvcjogXCIucHJvZmlsZV9fYXV0aG9yXCIsXG4gIHByb2ZpbGVKb2JTZWxlY3RvcjogXCIucHJvZmlsZV9fdGV4dFwiLFxuICBhdmF0YXJTZWxlY3RvcjogXCIucHJvZmlsZV9faW1hZ2VcIixcbn0pO1xuXG5mdW5jdGlvbiBjcmVhdGVOZXdDYXJkKGRhdGEpIHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgIHtcbiAgICAgIGRhdGEsXG4gICAgICBoYW5kbGVDYXJkQ2xpY2s6IChuYW1lLCBsaW5rKSA9PiB7XG4gICAgICAgIGltYWdlTW9kYWwub3BlbihuYW1lLCBsaW5rKTtcbiAgICAgIH0sXG4gICAgICBoYW5kbGVEZWxldGVCdXR0b246IChpZCkgPT4ge1xuICAgICAgICBjb25maXJtTW9kYWwub3BlbihpZCk7XG4gICAgICAgIGNvbmZpcm1Nb2RhbC5zZXRBY3Rpb24oKCkgPT4ge1xuICAgICAgICAgIGFwaS5kZWxldGVDYXJkKGlkKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGNhcmQucmVtb3ZlQ2FyZCgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBoYW5kbGVMaWtlQnV0dG9uOiAobGlrZUJ1dHRvbiwgaWQpID0+IHtcbiAgICAgICAgaWYgKGxpa2VCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKFwiZWxlbWVudF9fYnV0dG9uX2FjdGl2ZVwiKSkge1xuICAgICAgICAgIGFwaVxuICAgICAgICAgICAgLmRpc2xpa2VDYXJkKGlkKVxuICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgICBjYXJkLmRpc3BsYXlUb3RhbExpa2VzKHJlcy5saWtlcy5sZW5ndGgpO1xuICAgICAgICAgICAgICBjYXJkLnRvZ2dsZUxpa2VCdXR0b24obGlrZUJ1dHRvbik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFwaVxuICAgICAgICAgICAgLmxpa2VDYXJkKGlkKVxuICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgICBjYXJkLmRpc3BsYXlUb3RhbExpa2VzKHJlcy5saWtlcy5sZW5ndGgpO1xuICAgICAgICAgICAgICBjYXJkLnRvZ2dsZUxpa2VCdXR0b24obGlrZUJ1dHRvbik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0sXG4gICAgaWQsXG4gICAgXCIjY2FyZC10ZW1wbGF0ZVwiXG4gICk7XG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xufVxuXG5mdW5jdGlvbiBmaWxsUHJvZmlsZUZvcm0oKSB7XG4gIGNvbnN0IHVzZXJEYXRhID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgcHJvZmlsZUlucHV0TmFtZS52YWx1ZSA9IHVzZXJEYXRhLm5hbWU7XG4gIHByb2ZpbGVJbnB1dEFib3V0LnZhbHVlID0gdXNlckRhdGEuam9iO1xufVxuXG5lZGl0UHJvZmlsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBwcm9maWxlRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24ocHJvZmlsZUZvcm0pO1xuICBmaWxsUHJvZmlsZUZvcm0oKTtcbiAgZWRpdE1vZGFsLm9wZW4oKTtcbn0pO1xuXG5wbHVzUHJvZmlsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBjYXJkRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oY2FyZEZvcm0pO1xuICBhZGRDYXJkTW9kYWwub3BlbigpO1xufSk7XG5cbmVkaXRBdmF0YXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgYXZhdGFyRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oYXZhdGFyRm9ybSk7XG4gIGF2YXRhckVkaXRNb2RhbC5vcGVuKCk7XG59KTtcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhTdWJtaXQgZXh0ZW5kcyBQb3B1cCB7XG4gIHNldEFjdGlvbihhY3Rpb24pIHtcbiAgICB0aGlzLl9zdWJtaXRIYW5kbGVyID0gYWN0aW9uO1xuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5fc3VibWl0SGFuZGxlcih0aGlzLl9mb3JtKTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIG9wZW4obmFtZSwgbGluaykge1xuICAgIGNvbnN0IGltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2VcIik7XG4gICAgY29uc3QgY2FwdGlvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Rlc2NyaXB0aW9uXCIpO1xuICAgIGNhcHRpb24udGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIGltYWdlLmFsdCA9IGBQaG90byBvZiAke25hbWV9YDtcbiAgICBpbWFnZS5zcmMgPSBsaW5rO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7IHByb2ZpbGVOYW1lU2VsZWN0b3IsIHByb2ZpbGVKb2JTZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IgfSkge1xuICAgIHRoaXMuX3Byb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlTmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9wcm9maWxlSm9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlSm9iU2VsZWN0b3IpO1xuICAgIHRoaXMuX2F2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xuICB9XG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudCxcbiAgICAgIGpvYjogdGhpcy5fcHJvZmlsZUpvYi50ZXh0Q29udGVudCxcbiAgICB9O1xuICB9XG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQgfSkge1xuICAgIHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl9wcm9maWxlSm9iLnRleHRDb250ZW50ID0gYWJvdXQ7XG4gIH1cblxuICBnZXRVc2VyQXZhdGFyKCkge1xuICAgIHJldHVybiB7XG4gICAgICBhdmF0YXI6IHRoaXMuX2F2YXRhci5zcmMsXG4gICAgfTtcbiAgfVxuICBzZXRVc2VyQXZhdGFyKHsgYXZhdGFyIH0pIHtcbiAgICB0aGlzLl9hdmF0YXIuc3JjID0gYXZhdGFyO1xuICB9XG59XG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJwIiwiQ2FyZCIsImNvbnN0cnVjdG9yIiwidXNlcklkIiwiY2FyZFNlbGVjdG9yIiwiZGF0YSIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZURlbGV0ZUJ1dHRvbiIsImhhbmRsZUxpa2VCdXR0b24iLCJ0aGlzIiwiX2VsZW1lbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJfY2FyZFNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsInJlbW92ZSIsIl9lbGVtZW50QmluIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVEZWxldGVCdXR0b24iLCJfZ2V0SWQiLCJfbGlrZUJ1dHRvbiIsIl9oYW5kbGVMaWtlQnV0dG9uIiwiX2VsZW1lbnRQaWN0dXJlIiwiX2hhbmRsZUNhcmRDbGljayIsIl9uYW1lIiwiX2xpbmsiLCJfZ2V0VGVtcGxhdGUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsIl9saWtlc0Ftb3VudCIsIl9oYW5kbGVDYXJkTGlrZXMiLCJfZGVsZXRlQnV0dG9uIiwibmFtZSIsImxpbmsiLCJfaWQiLCJfb3duZXIiLCJvd25lciIsIl91c2VySWQiLCJfbGlrZXMiLCJsaWtlcyIsImxlbmd0aCIsImNhcmRUcmFzaEJ1dHRvbiIsInRvZ2dsZUxpa2VCdXR0b24iLCJsaWtlQnV0dG9uIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiZGlzcGxheVRvdGFsTGlrZXMiLCJ0b3RhbExpa2VzIiwiY2FyZExpa2VCdXR0b24iLCJBcnJheSIsImZyb20iLCJmb3JFYWNoIiwiZWxlbWVudCIsImFkZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlRXNjYXBlQ2xvc2UiLCJlIiwia2V5IiwiY2xvc2UiLCJvcGVuIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVTdWJtaXQiLCJzdXBlciIsIl9oYW5kbGVTdWJtaXQiLCJfZm9ybSIsIl9zdWJtaXRCdXR0b24iLCJfZ2V0SW5wdXRWYWx1ZXMiLCJpbnB1dFZhbHVlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dCIsInZhbHVlIiwiY2hhbmdlQnV0dG9uVGV4dCIsInNob3dCdXR0b25UZXh0IiwicHJldmVudERlZmF1bHQiLCJyZXNldCIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiYWRkSXRlbSIsInByZXBlbmQiLCJyZW5kZXIiLCJGb3JtVmFsaWRhdG9yIiwic2V0dGluZ3MiLCJmb3JtRWxlbWVudCIsImlucHV0RWxlbWVudCIsIl9lcnJvckVsZW1lbnQiLCJfZm9ybUVsZW1lbnQiLCJpZCIsIl9pbnB1dEVycm9yQ2xhc3MiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9lcnJvckNsYXNzIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0c0xpc3QiLCJzb21lIiwiX2hhc0ludmFsaWRJbnB1dCIsIl9pbnB1dHNMaXN0IiwiX2VsZW1lbnRCdXR0b24iLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsInNldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsIl9pbnB1dFNlbGVjdG9yIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsImV2dCIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiY3VzdG9tRmV0Y2giLCJ1cmwiLCJoZWFkZXJzIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImNhdGNoIiwiY29uc29sZSIsImxvZyIsInBhZ2VTZXR0aW5ncyIsImZvcm1TZWxlY3RvciIsInBsdXNQcm9maWxlQnV0dG9uIiwicHJvZmlsZUZvcm0iLCJlZGl0UHJvZmlsZUJ1dHRvbiIsImNhcmRGb3JtIiwiZWxlbWVudExpc3QiLCJwcm9maWxlSW5wdXROYW1lIiwicHJvZmlsZUlucHV0QWJvdXQiLCJlZGl0QXZhdGFyQnV0dG9uIiwiYXZhdGFyRm9ybSIsImdldEVsZW1lbnRCeUlkIiwiaGVhZGVyU3JjIiwicHJvZmlsZVNyYyIsImFwaSIsImJhc2VVcmwiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiZ2V0SW5pdGlhbENhcmRzIiwiZ2V0VXNlckluZm8iLCJjcmVhdGVDYXJkIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJkZWxldGVDYXJkIiwiY2FyZElkIiwibGlrZUNhcmQiLCJkaXNsaWtlQ2FyZCIsImNoYW5nZUF2YXRhciIsImF2YXRhciIsImF1dGhvcml6YXRpb24iLCJjYXJkRm9ybVZhbGlkYXRvciIsImVuYWJsZVZhbGlkYXRpb24iLCJwcm9maWxlRm9ybVZhbGlkYXRvciIsImF2YXRhckZvcm1WYWxpZGF0b3IiLCJjb25maXJtTW9kYWwiLCJzZXRBY3Rpb24iLCJhY3Rpb24iLCJfc3VibWl0SGFuZGxlciIsImltYWdlTW9kYWwiLCJpbWFnZSIsImVkaXRNb2RhbCIsInVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJhdmF0YXJFZGl0TW9kYWwiLCJzZXRVc2VyQXZhdGFyIiwiZXJyIiwiYWRkQ2FyZE1vZGFsIiwiZGVzY3JpcHRpb24iLCJyZW5kZXJDYXJkIiwiY2FyZCIsInJlbW92ZUNhcmQiLCJnZW5lcmF0ZUNhcmQiLCJjcmVhdGVOZXdDYXJkIiwiYWJvdXQiLCJwcm9maWxlTmFtZVNlbGVjdG9yIiwicHJvZmlsZUpvYlNlbGVjdG9yIiwiYXZhdGFyU2VsZWN0b3IiLCJfcHJvZmlsZU5hbWUiLCJfcHJvZmlsZUpvYiIsIl9hdmF0YXIiLCJqb2IiLCJnZXRVc2VyQXZhdGFyIiwicmVzZXRWYWxpZGF0aW9uIiwidXNlckRhdGEiLCJmaWxsUHJvZmlsZUZvcm0iXSwic291cmNlUm9vdCI6IiJ9