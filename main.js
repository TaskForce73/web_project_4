!function(){"use strict";var e={14:function(e,t,s){e.exports=s.p+"4e8e0a1d604782a0dff8.svg"}},t={};function s(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,s),i.exports}s.p="",function(){class e{constructor(e,t,s){let{data:n,handleCardClick:r,handleDeleteButton:i,handleLikeButton:o}=e;this._name=n.name,this._link=n.link,this._cardSelector=s,this._handleCardClick=r,this._handleDeleteButton=i,this._handleLikeButton=o,this._id=n._id,this._owner=n.owner,this._userId=t,this._likes=n.likes,this._likesAmount=n.likes.length,this.liked=!1}_getTemplate(){return this._element=document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0),this._element}removeCard(){this._element.remove(),this._element=null}_getId(){return this._id}_deleteButton(){const e=this._element.querySelector(".element__bin");this._owner._id!==this._userId&&e.remove()}_setEventListeners(){this._elementBin.addEventListener("click",(()=>{this._handleDeleteButton(this._getId())})),this._likeButton.addEventListener("click",(()=>{this._handleLikeButton(this._likeButton,this._getId())})),this._elementPicture.addEventListener("click",(()=>{this._handleCardClick(this._name,this._link)}))}like(e){e.classList.add("element__button_active"),this._liked=!0}unlike(e){e.classList.remove("element__button_active"),this._liked=!1}displayTotalLikes(e){this._counter.textContent=e}isLiked(){return this._liked}_handleCardLikes(){Array.from(this._likes).forEach((e=>{e._id===this._userId&&this._likeButton.classList.add("element__button_active")}))}generateCard(){return this._element=this._getTemplate(),this._elementBin=this._element.querySelector(".element__bin"),this._likeButton=this._element.querySelector(".element__button"),this._elementPicture=this._element.querySelector(".element__picture"),this._counter=this._element.querySelector(".element__button-counter"),this._setEventListeners(),this._elementPicture.src=this._link,this._elementPicture.alt="Photo of ".concat(this._name),this._element.querySelector(".element__header").textContent=this._name,this._counter.textContent=this._likesAmount,this._handleCardLikes(),this._deleteButton(),this._element}}class t{constructor(e){var t,s;s=e=>{"Escape"===e.key&&this.close()},(t="_handleEscapeClose")in this?Object.defineProperty(this,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):this[t]=s,this._popup=document.querySelector(e)}open(){this._popup.classList.add("popup_open"),document.addEventListener("keydown",this._handleEscapeClose)}close(){this._popup.classList.remove("popup_open"),document.removeEventListener("keydown",this._handleEscapeClose)}setEventListeners(){this._popup.addEventListener("mousedown",(e=>{(e.target.classList.contains("popup_open")||e.target.classList.contains("popup__close"))&&this.close()}))}}class n extends t{constructor(e,t){super(e),this._handleSubmit=t,this._form=this._popup.querySelector(".popup__form"),this._submitButton=this._popup.querySelector(".popup__button"),this._inputs=[...this._form.querySelectorAll(".popup__input")]}_getInputValues(){const e={};return this._inputs.forEach((t=>{e[t.name]=t.value})),e}changeButtonText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Saving...";this._submitButton.textContent=e}setEventListeners(){this._form.addEventListener("submit",(e=>{this.changeButtonText(),e.preventDefault(),this._handleSubmit(this._getInputValues())})),super.setEventListeners()}close(){this._form.reset(),super.close()}}function r(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class i{constructor(e,t){r(this,"_showInputError",(e=>{this._errorElement=this._formElement.querySelector(".".concat(e.id,"-error")),e.classList.add(this._inputErrorClass),this._errorElement.textContent=e.validationMessage,this._errorElement.classList.add(this._errorClass)})),r(this,"_hideInputError",(e=>{this._errorElement=this._formElement.querySelector(".".concat(e.id,"-error")),e.classList.remove(this._inputErrorClass),this._errorElement.classList.remove(this._errorClass),this._errorElement.textContent=""})),r(this,"_checkInputValidity",(e=>{e.validity.valid?this._hideInputError(e):this._showInputError(e)})),r(this,"_hasInvalidInput",(e=>Array.from(e).some((e=>!e.validity.valid)))),r(this,"_toggleButtonState",(()=>{this._hasInvalidInput(this._inputsList)?(this._elementButton.classList.add(this._inactiveButtonClass),this._elementButton.setAttribute("disabled",!0)):(this._elementButton.classList.remove(this._inactiveButtonClass),this._elementButton.removeAttribute("disabled"))})),r(this,"_setEventListeners",(()=>{this._inputsList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._toggleButtonState(),this._inputsList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))})),r(this,"enableValidation",(()=>{this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()})),r(this,"resetValidation",(()=>{this._inputsList.forEach((e=>{this._hideInputError(e)})),this._toggleButtonState()})),this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=t,this._elementButton=this._formElement.querySelector(this._submitButtonSelector)}}var o=s(14);const a=document.querySelector(".profile__plus"),l=document.querySelector(".popup__form"),h=document.querySelector(".profile__edit"),c=document.querySelector(".popup__input-name"),_=document.querySelector(".popup__input-about"),u=document.querySelector(".profile__image"),d=document.querySelector(".popup__form_second"),p=document.querySelector(".profile__overlay"),m=document.querySelector(".popup__form_avatar");document.getElementById("around-the-us").src=o;const v=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s}_checkResponse(e){return e.ok?e.json():Promise.reject("Error!"+e.statusText)}getInitialCards(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then(this._checkResponse)}getUserInfo(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then(this._checkResponse)}editProfile(e){let{name:t,about:s}=e;return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify({name:t,about:s})}).then(this._checkResponse)}createCard(e){let{name:t,link:s}=e;return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:s})}).then(this._checkResponse)}deleteCard(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}likeCard(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then(this._checkResponse)}dislikeCard(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}changeAvatar(e){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._checkResponse)}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"32b9efa0-6f35-4afe-975e-e3a6be43cfcb","Content-Type":"application/json"}}),f={};var b;b={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},Array.from(document.querySelectorAll(b.formSelector)).forEach((e=>{const t=new i(b,e),s=e.getAttribute("name");f[s]=t,t.enableValidation()}));const k=new class extends t{setAction(e){this._submitHandler=e}setEventListeners(){this._form=this._popup.querySelector(".popup__form"),this._popup.addEventListener("submit",(e=>{e.preventDefault(),this._submitHandler(this._form)})),super.setEventListeners()}}(".popup_card_remover");k.setEventListeners();const E=new class extends t{open(e,t){this._image=this._popup.querySelector(".popup__image"),this._caption=this._popup.querySelector(".popup__description"),this._caption.textContent=e,this._image.alt="Photo of ".concat(e),this._image.src=t,super.open()}}(".popup_big_image");E.setEventListeners();const g=new n(".popup_profile_adder",(e=>{v.editProfile({name:e.name,about:e.about}).then((e=>{C.setUserInfo({name:e.name,about:e.about}),g.close()})).catch((e=>console.log(e))).finally((()=>{g.changeButtonText("Save")}))}));g.setEventListeners();const y=new n(".popup_profile_changer",(e=>{v.changeAvatar(e.avatar).then((e=>{C.setUserAvatar({avatar:e.avatar}),y.close()})).catch((e=>console.log(e))).finally((()=>{y.changeButtonText("Save")}))}));y.setEventListeners();const S=new n(".popup_card_publisher",(e=>{v.createCard({name:e.description,link:e.link}).then((e=>{L.addItem(B(e,e.owner._id)),S.close()})).catch((e=>console.log(e))).finally((()=>{S.changeButtonText("Save")}))}));S.setEventListeners(),Promise.all([v.getInitialCards(),v.getUserInfo()]).then((e=>{let[t,s]=e;C.setUserInfo({name:s.name,about:s.about}),L.render(t)})).catch((e=>{console.log(e)}));const L=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=document.querySelector(t)}addItem(e){this._container.prepend(e)}render(e){e.forEach((e=>{this._renderer(e)}))}}({renderer:e=>{L.addItem(B(e))}},".elements__list"),C=new class{constructor(e){let{profileNameSelector:t,profileJobSelector:s,avatarSelector:n}=e;this._profileName=t,this._profileJob=s,this._avatar=n}getUserInfo(){return{name:this._profileName.textContent,job:this._profileJob.textContent}}setUserInfo(e){let{name:t,about:s}=e;this._profileName.textContent=t,this._profileJob.textContent=s}getUserAvatar(){return{avatar:this._avatar.src}}setUserAvatar(e){let{avatar:t}=e;this._avatar.src=t}}(c,_,u);function B(t,s){const n=new e({data:t,handleCardClick:(e,t)=>{E.open(e,t)},handleDeleteButton:e=>{k.open(e),k.setAction((()=>{v.deleteCard(e).then((()=>{n.removeCard(),k.close()})).catch((e=>console.log(e)))}))},handleLikeButton:(e,t)=>{n.isLiked()?v.dislikeCard(t).then((t=>{n.displayTotalLikes(t.likes.length),n.unlike(e)})).catch((e=>console.log(e))):v.likeCard(t).then((t=>{n.displayTotalLikes(t.likes.length),n.like(e)})).catch((e=>console.log(e)))}},s,"#card-template");return n.generateCard()}h.addEventListener("click",(()=>{f[l.getAttribute("name")].resetValidation(),function(){const e=C.getUserInfo();c.value=e.name,_.value=e.job}(),g.open()})),a.addEventListener("click",(()=>{f[d.getAttribute("name")].resetValidation(),S.open()})),p.addEventListener("click",(()=>{f[m.getAttribute("name")].resetValidation(),y.open()}))}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoiOEZBQ0lBLEVBQTJCLEdBRy9CLFNBQVNDLEVBQW9CQyxHQUU1QixJQUFJQyxFQUFlSCxFQUF5QkUsR0FDNUMsUUFBcUJFLElBQWpCRCxFQUNILE9BQU9BLEVBQWFFLFFBR3JCLElBQUlDLEVBQVNOLEVBQXlCRSxHQUFZLENBR2pERyxRQUFTLElBT1YsT0FIQUUsRUFBb0JMLEdBQVVJLEVBQVFBLEVBQU9ELFFBQVNKLEdBRy9DSyxFQUFPRCxRQ3JCZkosRUFBb0JPLEVBQUksRyxXQ0FULE1BQU1DLEVBQ25CQyxZQUFZLEVBRVZDLEVBQ0FDLEdBQ0EsSUFIQSxLQUFFQyxFQUFGLGdCQUFRQyxFQUFSLG1CQUF5QkMsRUFBekIsaUJBQTZDQyxHQUc3QyxFQUNBQyxLQUFLQyxNQUFRTCxFQUFLTSxLQUNsQkYsS0FBS0csTUFBUVAsRUFBS1EsS0FDbEJKLEtBQUtLLGNBQWdCVixFQUNyQkssS0FBS00saUJBQW1CVCxFQUN4QkcsS0FBS08sb0JBQXNCVCxFQUMzQkUsS0FBS1Esa0JBQW9CVCxFQUN6QkMsS0FBS1MsSUFBTWIsRUFBS2EsSUFDaEJULEtBQUtVLE9BQVNkLEVBQUtlLE1BQ25CWCxLQUFLWSxRQUFVbEIsRUFDZk0sS0FBS2EsT0FBU2pCLEVBQUtrQixNQUNuQmQsS0FBS2UsYUFBZW5CLEVBQUtrQixNQUFNRSxPQUMvQmhCLEtBQUtpQixPQUFRLEVBR2ZDLGVBS0UsT0FKQWxCLEtBQUttQixTQUFXQyxTQUNiQyxjQUFjckIsS0FBS0ssZUFDbkJpQixRQUFRRCxjQUFjLFlBQ3RCRSxXQUFVLEdBQ052QixLQUFLbUIsU0FHZEssYUFDZXhCLEtBQUttQixTQUNiTSxTQUNMekIsS0FBS21CLFNBQVcsS0FHbEJPLFNBQ0UsT0FBTzFCLEtBQUtTLElBR2RrQixnQkFDRSxNQUFNQyxFQUFrQjVCLEtBQUttQixTQUFTRSxjQUFjLGlCQUNoRHJCLEtBQUtVLE9BQU9ELE1BQVFULEtBQUtZLFNBQzNCZ0IsRUFBZ0JILFNBSXBCSSxxQkFDRTdCLEtBQUs4QixZQUFZQyxpQkFBaUIsU0FBUyxLQUN6Qy9CLEtBQUtPLG9CQUFvQlAsS0FBSzBCLGFBRWhDMUIsS0FBS2dDLFlBQVlELGlCQUFpQixTQUFTLEtBQ3pDL0IsS0FBS1Esa0JBQWtCUixLQUFLZ0MsWUFBYWhDLEtBQUswQixhQUVoRDFCLEtBQUtpQyxnQkFBZ0JGLGlCQUFpQixTQUFTLEtBQzdDL0IsS0FBS00saUJBQWlCTixLQUFLQyxNQUFPRCxLQUFLRyxVQUkzQytCLEtBQUtDLEdBQ0hBLEVBQVdDLFVBQVVDLElBQUksMEJBQ3pCckMsS0FBS3NDLFFBQVMsRUFHaEJDLE9BQU9KLEdBQ0xBLEVBQVdDLFVBQVVYLE9BQU8sMEJBQzVCekIsS0FBS3NDLFFBQVMsRUFHaEJFLGtCQUFrQkMsR0FDaEJ6QyxLQUFLMEMsU0FBU0MsWUFBY0YsRUFHOUJHLFVBQ0UsT0FBTzVDLEtBQUtzQyxPQUdkTyxtQkFDb0JDLE1BQU1DLEtBQUsvQyxLQUFLYSxRQUN4Qm1DLFNBQVNDLElBQ2JBLEVBQVF4QyxNQUFRVCxLQUFLWSxTQUN2QlosS0FBS2dDLFlBQVlJLFVBQVVDLElBQUksNkJBS3JDYSxlQWFFLE9BWkFsRCxLQUFLbUIsU0FBV25CLEtBQUtrQixlQUNyQmxCLEtBQUs4QixZQUFjOUIsS0FBS21CLFNBQVNFLGNBQWMsaUJBQy9DckIsS0FBS2dDLFlBQWNoQyxLQUFLbUIsU0FBU0UsY0FBYyxvQkFDL0NyQixLQUFLaUMsZ0JBQWtCakMsS0FBS21CLFNBQVNFLGNBQWMscUJBQ25EckIsS0FBSzBDLFNBQVcxQyxLQUFLbUIsU0FBU0UsY0FBYyw0QkFDNUNyQixLQUFLNkIscUJBQ0w3QixLQUFLaUMsZ0JBQWdCa0IsSUFBTW5ELEtBQUtHLE1BQ2hDSCxLQUFLaUMsZ0JBQWdCbUIsSUFBckIsbUJBQXVDcEQsS0FBS0MsT0FDNUNELEtBQUttQixTQUFTRSxjQUFjLG9CQUFvQnNCLFlBQWMzQyxLQUFLQyxNQUNuRUQsS0FBSzBDLFNBQVNDLFlBQWMzQyxLQUFLZSxhQUNqQ2YsS0FBSzZDLG1CQUNMN0MsS0FBSzJCLGdCQUNFM0IsS0FBS21CLFVDakdELE1BQU1rQyxFQUNuQjVELFlBQVk2RCxHLFVBd0JVQyxJQUNOLFdBQVZBLEVBQUVDLEtBQ0p4RCxLQUFLeUQsVSxFQTFCa0IsNkIsc0JBQUEsSyx1REFBQSxLLEtBQ3pCekQsS0FBSzBELE9BQVN0QyxTQUFTQyxjQUFjaUMsR0FFdkNLLE9BQ0UzRCxLQUFLMEQsT0FBT3RCLFVBQVVDLElBQUksY0FDMUJqQixTQUFTVyxpQkFBaUIsVUFBVy9CLEtBQUs0RCxvQkFHNUNILFFBQ0V6RCxLQUFLMEQsT0FBT3RCLFVBQVVYLE9BQU8sY0FDN0JMLFNBQVN5QyxvQkFBb0IsVUFBVzdELEtBQUs0RCxvQkFHL0NFLG9CQUNFOUQsS0FBSzBELE9BQU8zQixpQkFBaUIsYUFBY3dCLEtBRXZDQSxFQUFFUSxPQUFPM0IsVUFBVTRCLFNBQVMsZUFDNUJULEVBQUVRLE9BQU8zQixVQUFVNEIsU0FBUyxrQkFFNUJoRSxLQUFLeUQsWUNuQkUsTUFBTVEsVUFBc0JaLEVBQ3pDNUQsWUFBWTZELEVBQWVZLEdBQ3pCQyxNQUFNYixHQUNOdEQsS0FBS29FLGNBQWdCRixFQUNyQmxFLEtBQUtxRSxNQUFRckUsS0FBSzBELE9BQU9yQyxjQUFjLGdCQUN2Q3JCLEtBQUtzRSxjQUFnQnRFLEtBQUswRCxPQUFPckMsY0FBYyxrQkFDL0NyQixLQUFLdUUsUUFBVSxJQUFJdkUsS0FBS3FFLE1BQU1HLGlCQUFpQixrQkFFakRDLGtCQUNFLE1BQU1DLEVBQWMsR0FJcEIsT0FIQTFFLEtBQUt1RSxRQUFRdkIsU0FBUzJCLElBQ3BCRCxFQUFZQyxFQUFNekUsTUFBUXlFLEVBQU1DLFNBRTNCRixFQUdURyxtQkFBcUMsSUFBcEJDLEVBQW9CLHVEQUFiLFlBQ3RCOUUsS0FBS3NFLGNBQWMzQixZQUFjbUMsRUFHbkNoQixvQkFDRTlELEtBQUtxRSxNQUFNdEMsaUJBQWlCLFVBQVd3QixJQUNyQ3ZELEtBQUs2RSxtQkFDTHRCLEVBQUV3QixpQkFDRi9FLEtBQUtvRSxjQUFjcEUsS0FBS3lFLHNCQUUxQk4sTUFBTUwsb0JBR1JMLFFBQ0V6RCxLQUFLcUUsTUFBTVcsUUFDWGIsTUFBTVYsUyx3SENoQ0ssTUFBTXdCLEVBQ25CeEYsWUFBWXlGLEVBQVVDLEdBQWEsMEJBWWhCQyxJQUNqQnBGLEtBQUtxRixjQUFnQnJGLEtBQUtzRixhQUFhakUsY0FBbEIsV0FDZitELEVBQWFHLEdBREUsV0FHckJILEVBQWFoRCxVQUFVQyxJQUFJckMsS0FBS3dGLGtCQUNoQ3hGLEtBQUtxRixjQUFjMUMsWUFBY3lDLEVBQWFLLGtCQUM5Q3pGLEtBQUtxRixjQUFjakQsVUFBVUMsSUFBSXJDLEtBQUswRixnQkFsQkwsMEJBcUJoQk4sSUFDakJwRixLQUFLcUYsY0FBZ0JyRixLQUFLc0YsYUFBYWpFLGNBQWxCLFdBQ2YrRCxFQUFhRyxHQURFLFdBR3JCSCxFQUFhaEQsVUFBVVgsT0FBT3pCLEtBQUt3RixrQkFDbkN4RixLQUFLcUYsY0FBY2pELFVBQVVYLE9BQU96QixLQUFLMEYsYUFDekMxRixLQUFLcUYsY0FBYzFDLFlBQWMsTUEzQkEsOEJBOEJaeUMsSUFDaEJBLEVBQWFPLFNBQVNDLE1BR3pCNUYsS0FBSzZGLGdCQUFnQlQsR0FGckJwRixLQUFLOEYsZ0JBQWdCVixNQWhDVSwyQkFzQ2ZXLEdBQ0hqRCxNQUFNQyxLQUFLZ0QsR0FDWkMsTUFBTVosSUFDVkEsRUFBYU8sU0FBU0MsVUF6Q0MsNkJBNkNkLEtBQ2Y1RixLQUFLaUcsaUJBQWlCakcsS0FBS2tHLGNBQzdCbEcsS0FBS21HLGVBQWUvRCxVQUFVQyxJQUFJckMsS0FBS29HLHNCQUN2Q3BHLEtBQUttRyxlQUFlRSxhQUFhLFlBQVksS0FFN0NyRyxLQUFLbUcsZUFBZS9ELFVBQVVYLE9BQU96QixLQUFLb0csc0JBQzFDcEcsS0FBS21HLGVBQWVHLGdCQUFnQixnQkFuREwsNkJBdURkLEtBQ25CdEcsS0FBS2tHLFlBQWNwRCxNQUFNQyxLQUN2Qi9DLEtBQUtzRixhQUFhZCxpQkFBaUJ4RSxLQUFLdUcsaUJBRTFDdkcsS0FBS3dHLHFCQUNMeEcsS0FBS2tHLFlBQVlsRCxTQUFTb0MsSUFDeEJBLEVBQWFyRCxpQkFBaUIsU0FBUyxLQUNyQy9CLEtBQUt5RyxvQkFBb0JyQixHQUN6QnBGLEtBQUt3Ryw4QkEvRHdCLDJCQW9FaEIsS0FDakJ4RyxLQUFLc0YsYUFBYXZELGlCQUFpQixVQUFXMkUsSUFDNUNBLEVBQUkzQixvQkFFTi9FLEtBQUs2Qix3QkF4RTRCLDBCQTJFakIsS0FDaEI3QixLQUFLa0csWUFBWWxELFNBQVNvQyxJQUN4QnBGLEtBQUs2RixnQkFBZ0JULE1BRXZCcEYsS0FBS3dHLHdCQTlFTHhHLEtBQUt1RyxlQUFpQnJCLEVBQVN5QixjQUMvQjNHLEtBQUs0RyxzQkFBd0IxQixFQUFTMkIscUJBQ3RDN0csS0FBS29HLHFCQUF1QmxCLEVBQVM0QixvQkFDckM5RyxLQUFLd0YsaUJBQW1CTixFQUFTNkIsZ0JBQ2pDL0csS0FBSzBGLFlBQWNSLEVBQVM4QixXQUM1QmhILEtBQUtzRixhQUFlSCxFQUNwQm5GLEtBQUttRyxlQUFpQm5HLEtBQUtzRixhQUFhakUsY0FDdENyQixLQUFLNEcsd0IsWUNFWCxNQUFNSyxFQUFvQjdGLFNBQVNDLGNBQWMsa0JBQzNDNkYsRUFBYzlGLFNBQVNDLGNBQWMsZ0JBQ3JDOEYsRUFBb0IvRixTQUFTQyxjQUFjLGtCQUMzQytGLEVBQW1CaEcsU0FBU0MsY0FBYyxzQkFDMUNnRyxFQUFvQmpHLFNBQVNDLGNBQWMsdUJBQzNDaUcsRUFBcUJsRyxTQUFTQyxjQUFjLG1CQUM1Q2tHLEVBQVduRyxTQUFTQyxjQUFjLHVCQUNsQ21HLEVBQW1CcEcsU0FBU0MsY0FBYyxxQkFDMUNvRyxFQUFhckcsU0FBU0MsY0FBYyx1QkFJdEJELFNBQVNzRyxlQUFlLGlCQUNoQ3ZFLElBQU13RSxFQUVsQixNQUFNQyxFQUFNLElDMUJHLE1BQ2JuSSxZQUFZLEdBQXNCLElBQXRCLFFBQUVvSSxFQUFGLFFBQVdDLEdBQVcsRUFDaEM5SCxLQUFLK0gsU0FBV0YsRUFDaEI3SCxLQUFLZ0ksU0FBV0YsRUFHbEJHLGVBQWVDLEdBQ2IsT0FBT0EsRUFBSUMsR0FBS0QsRUFBSUUsT0FBU0MsUUFBUUMsT0FBTyxTQUFXSixFQUFJSyxZQUc3REMsa0JBQ0UsT0FBT0MsTUFBTSxHQUFELE9BQUl6SSxLQUFLK0gsU0FBVCxVQUEyQixDQUNyQ0QsUUFBUzlILEtBQUtnSSxXQUNiVSxLQUFLMUksS0FBS2lJLGdCQUdmVSxjQUNFLE9BQU9GLE1BQU0sR0FBRCxPQUFJekksS0FBSytILFNBQVQsYUFBOEIsQ0FDeENELFFBQVM5SCxLQUFLZ0ksV0FDYlUsS0FBSzFJLEtBQUtpSSxnQkFHZlcsWUFBWSxHQUFpQixJQUFqQixLQUFFMUksRUFBRixNQUFRMkksR0FBUyxFQUMzQixPQUFPSixNQUFNLEdBQUQsT0FBSXpJLEtBQUsrSCxTQUFULGFBQThCLENBQ3hDRCxRQUFTOUgsS0FBS2dJLFNBQ2RjLE9BQVEsUUFDUkMsS0FBTUMsS0FBS0MsVUFBVSxDQUNuQi9JLEtBQUFBLEVBQ0EySSxNQUFBQSxNQUVESCxLQUFLMUksS0FBS2lJLGdCQUdmaUIsV0FBVyxHQUFnQixJQUFoQixLQUFFaEosRUFBRixLQUFRRSxHQUFRLEVBQ3pCLE9BQU9xSSxNQUFNLEdBQUQsT0FBSXpJLEtBQUsrSCxTQUFULFVBQTJCLENBQ3JDZSxPQUFRLE9BQ1JoQixRQUFTOUgsS0FBS2dJLFNBQ2RlLEtBQU1DLEtBQUtDLFVBQVUsQ0FDbkIvSSxLQUFBQSxFQUNBRSxLQUFBQSxNQUVEc0ksS0FBSzFJLEtBQUtpSSxnQkFHZmtCLFdBQVdDLEdBQ1QsT0FBT1gsTUFBTSxHQUFELE9BQUl6SSxLQUFLK0gsU0FBVCxrQkFBMkJxQixHQUFVLENBQy9DTixPQUFRLFNBQ1JoQixRQUFTOUgsS0FBS2dJLFdBQ2JVLEtBQUsxSSxLQUFLaUksZ0JBR2ZvQixTQUFTRCxHQUNQLE9BQU9YLE1BQU0sR0FBRCxPQUFJekksS0FBSytILFNBQVQsd0JBQWlDcUIsR0FBVSxDQUNyRE4sT0FBUSxNQUNSaEIsUUFBUzlILEtBQUtnSSxXQUNiVSxLQUFLMUksS0FBS2lJLGdCQUdmcUIsWUFBWUYsR0FDVixPQUFPWCxNQUFNLEdBQUQsT0FBSXpJLEtBQUsrSCxTQUFULHdCQUFpQ3FCLEdBQVUsQ0FDckROLE9BQVEsU0FDUmhCLFFBQVM5SCxLQUFLZ0ksV0FDYlUsS0FBSzFJLEtBQUtpSSxnQkFHZnNCLGFBQWFDLEdBQ1gsT0FBT2YsTUFBTSxHQUFELE9BQUl6SSxLQUFLK0gsU0FBVCxvQkFBcUMsQ0FDL0NlLE9BQVEsUUFDUmhCLFFBQVM5SCxLQUFLZ0ksU0FDZGUsS0FBTUMsS0FBS0MsVUFBVSxDQUNuQk8sT0FBQUEsTUFFRGQsS0FBSzFJLEtBQUtpSSxrQkQ5Q0csQ0FDbEJKLFFBQVMsOENBQ1RDLFFBQVMsQ0FDUDJCLGNBQWUsdUNBQ2YsZUFBZ0Isc0JBSWRDLEVBQWlCLEdBRUdDLElBQUFBLEVBQUFBLEVFcENFLENBQzFCQyxhQUFjLGVBQ2RqRCxjQUFlLGdCQUNmRSxxQkFBc0IsaUJBQ3RCQyxvQkFBcUIseUJBQ3JCQyxnQkFBaUIsMEJBQ2pCQyxXQUFZLHdCRitCS2xFLE1BQU1DLEtBQUszQixTQUFTb0QsaUJBQWlCbUYsRUFBT0MsZUFDcEQ1RyxTQUFTbUMsSUFDaEIsTUFBTTBFLEVBQVksSUFBSTVFLEVBQWMwRSxFQUFReEUsR0FDdEMyRSxFQUFXM0UsRUFBWTRFLGFBQWEsUUFDMUNMLEVBQWVJLEdBQVlELEVBQzNCQSxFQUFVRyxzQkFLZCxNQUFNQyxFQUFlLElHN0NOLGNBQThCNUcsRUFDM0M2RyxVQUFVQyxHQUNSbkssS0FBS29LLGVBQWlCRCxFQUd4QnJHLG9CQUNFOUQsS0FBS3FFLE1BQVFyRSxLQUFLMEQsT0FBT3JDLGNBQWMsZ0JBQ3ZDckIsS0FBSzBELE9BQU8zQixpQkFBaUIsVUFBV3dCLElBQ3RDQSxFQUFFd0IsaUJBQ0YvRSxLQUFLb0ssZUFBZXBLLEtBQUtxRSxVQUUzQkYsTUFBTUwsc0JIa0MrQix1QkFDekNtRyxFQUFhbkcsb0JBRWIsTUFBTXVHLEVBQWEsSUloREosY0FBNkJoSCxFQUMxQ00sS0FBS3pELEVBQU1FLEdBQ1RKLEtBQUtzSyxPQUFTdEssS0FBSzBELE9BQU9yQyxjQUFjLGlCQUN4Q3JCLEtBQUt1SyxTQUFXdkssS0FBSzBELE9BQU9yQyxjQUFjLHVCQUMxQ3JCLEtBQUt1SyxTQUFTNUgsWUFBY3pDLEVBQzVCRixLQUFLc0ssT0FBT2xILElBQVosbUJBQThCbEQsR0FDOUJGLEtBQUtzSyxPQUFPbkgsSUFBTS9DLEVBQ2xCK0QsTUFBTVIsU0p5QzRCLG9CQUN0QzBHLEVBQVd2RyxvQkFFWCxNQUFNMEcsRUFBWSxJQUFJdkcsRUFBYyx3QkFBeUJyRSxJQUMzRGdJLEVBQ0dnQixZQUFZLENBQUUxSSxLQUFNTixFQUFLTSxLQUFNMkksTUFBT2pKLEVBQUtpSixRQUMzQ0gsTUFBTVIsSUFDTHVDLEVBQVNDLFlBQVksQ0FBRXhLLEtBQU1nSSxFQUFJaEksS0FBTTJJLE1BQU9YLEVBQUlXLFFBQ2xEMkIsRUFBVS9HLFdBRVhrSCxPQUFPQyxHQUFRQyxRQUFRQyxJQUFJRixLQUMzQkcsU0FBUSxLQUNQUCxFQUFVM0YsaUJBQWlCLGNBR2pDMkYsRUFBVTFHLG9CQUVWLE1BQU1rSCxFQUFrQixJQUFJL0csRUFBYywwQkFBMkJyRSxJQUNuRWdJLEVBQ0cyQixhQUFhM0osRUFBSzRKLFFBQ2xCZCxNQUFNUixJQUNMdUMsRUFBU1EsY0FBYyxDQUFFekIsT0FBUXRCLEVBQUlzQixTQUNyQ3dCLEVBQWdCdkgsV0FFakJrSCxPQUFPQyxHQUFRQyxRQUFRQyxJQUFJRixLQUMzQkcsU0FBUSxLQUNQQyxFQUFnQm5HLGlCQUFpQixjQUd2Q21HLEVBQWdCbEgsb0JBRWhCLE1BQU1vSCxFQUFlLElBQUlqSCxFQUFjLHlCQUEwQnJFLElBQy9EZ0ksRUFDR3NCLFdBQVcsQ0FBRWhKLEtBQU1OLEVBQUt1TCxZQUFhL0ssS0FBTVIsRUFBS1EsT0FDaERzSSxNQUFNUixJQUNMa0QsRUFBUUMsUUFBUUMsRUFBY3BELEVBQUtBLEVBQUl2SCxNQUFNRixNQUM3Q3lLLEVBQWF6SCxXQUVka0gsT0FBT0MsR0FBUUMsUUFBUUMsSUFBSUYsS0FDM0JHLFNBQVEsS0FDUEcsRUFBYXJHLGlCQUFpQixjQUdwQ3FHLEVBQWFwSCxvQkFFYnVFLFFBQVFrRCxJQUFJLENBQUMzRCxFQUFJWSxrQkFBbUJaLEVBQUllLGdCQUNyQ0QsTUFBSyxJQUEwQixJQUF4QjhDLEVBQVVDLEdBQWMsRUFDOUJoQixFQUFTQyxZQUFZLENBQUV4SyxLQUFNdUwsRUFBU3ZMLEtBQU0ySSxNQUFPNEMsRUFBUzVDLFFBQzVEdUMsRUFBUU0sT0FBT0YsTUFFaEJiLE9BQU9DLElBQ05DLFFBQVFDLElBQUlGLE1BR2hCLE1BQU1RLEVBQVUsSUt4R0QsTUFDYjNMLFlBQVksRUFBY2tNLEdBQW1CLElBQWpDLFNBQUVDLEdBQStCLEVBQzNDNUwsS0FBSzZMLFVBQVlELEVBQ2pCNUwsS0FBSzhMLFdBQWExSyxTQUFTQyxjQUFjc0ssR0FHM0NOLFFBQVFVLEdBQ04vTCxLQUFLOEwsV0FBV0UsUUFBUUQsR0FHMUJMLE9BQU9PLEdBQ0xBLEVBQU1qSixTQUFTcEQsSUFDYkksS0FBSzZMLFVBQVVqTSxRTDZGbkIsQ0FDRWdNLFNBQVdKLElBQ1RKLEVBQVFDLFFBQVFDLEVBQWNFLE1BR2xDLG1CQUdJZixFQUFXLElNakhGLE1BQ2JoTCxZQUFZLEdBQTZELElBQTdELG9CQUFFeU0sRUFBRixtQkFBdUJDLEVBQXZCLGVBQTJDQyxHQUFrQixFQUN2RXBNLEtBQUtxTSxhQUFlSCxFQUNwQmxNLEtBQUtzTSxZQUFjSCxFQUNuQm5NLEtBQUt1TSxRQUFVSCxFQUVqQnpELGNBQ0UsTUFBTyxDQUNMekksS0FBTUYsS0FBS3FNLGFBQWExSixZQUN4QjZKLElBQUt4TSxLQUFLc00sWUFBWTNKLGFBRzFCK0gsWUFBWSxHQUFpQixJQUFqQixLQUFFeEssRUFBRixNQUFRMkksR0FBUyxFQUMzQjdJLEtBQUtxTSxhQUFhMUosWUFBY3pDLEVBQ2hDRixLQUFLc00sWUFBWTNKLFlBQWNrRyxFQUdqQzRELGdCQUNFLE1BQU8sQ0FDTGpELE9BQVF4SixLQUFLdU0sUUFBUXBKLEtBR3pCOEgsY0FBYyxHQUFZLElBQVosT0FBRXpCLEdBQVUsRUFDeEJ4SixLQUFLdU0sUUFBUXBKLElBQU1xRyxJTjJGckJwQyxFQUNBQyxFQUNBQyxHQUdGLFNBQVNnRSxFQUFjMUwsRUFBTTJGLEdBQzNCLE1BQU13RyxFQUFPLElBQUl2TSxFQUNmLENBQ0VJLEtBQUFBLEVBQ0FDLGdCQUFpQixDQUFDSyxFQUFNRSxLQUN0QmlLLEVBQVcxRyxLQUFLekQsRUFBTUUsSUFFeEJOLG1CQUFxQnNKLElBQ25CYSxFQUFhdEcsS0FBS3lGLEdBQ2xCYSxFQUFhQyxXQUFVLEtBQ3JCdEMsRUFDR3VCLFdBQVdDLEdBQ1hWLE1BQUssS0FDSnFELEVBQUt2SyxhQUNMeUksRUFBYXhHLFdBRWRrSCxPQUFPQyxHQUFRQyxRQUFRQyxJQUFJRixTQUdsQzdLLGlCQUFrQixDQUFDb0MsRUFBWW9ELEtBQ3pCd0csRUFBS25KLFVBQ1BnRixFQUNHMEIsWUFBWS9ELEdBQ1ptRCxNQUFNUixJQUNMNkQsRUFBS3ZKLGtCQUFrQjBGLEVBQUlwSCxNQUFNRSxRQUNqQytLLEVBQUt4SixPQUFPSixNQUVid0ksT0FBT0MsR0FBUUMsUUFBUUMsSUFBSUYsS0FFOUJoRCxFQUNHeUIsU0FBUzlELEdBQ1RtRCxNQUFNUixJQUNMNkQsRUFBS3ZKLGtCQUFrQjBGLEVBQUlwSCxNQUFNRSxRQUNqQytLLEVBQUs3SixLQUFLQyxNQUVYd0ksT0FBT0MsR0FBUUMsUUFBUUMsSUFBSUYsT0FJcENyRixFQUNBLGtCQUdGLE9BRG9Cd0csRUFBSzdJLGVBVTNCaUUsRUFBa0JwRixpQkFBaUIsU0FBUyxLQUMxQzJILEVBQWV4QyxFQUFZNkMsYUFBYSxTQUFTMkMsa0JBUG5ELFdBQ0UsTUFBTWpCLEVBQVdoQixFQUFTOUIsY0FDMUJ2QixFQUFpQnhDLE1BQVE2RyxFQUFTdkwsS0FDbENtSCxFQUFrQnpDLE1BQVE2RyxFQUFTZSxJQUtuQ0csR0FDQW5DLEVBQVU3RyxVQUdac0QsRUFBa0JsRixpQkFBaUIsU0FBUyxLQUMxQzJILEVBQWVuQyxFQUFTd0MsYUFBYSxTQUFTMkMsa0JBQzlDeEIsRUFBYXZILFVBR2Y2RCxFQUFpQnpGLGlCQUFpQixTQUFTLEtBQ3pDMkgsRUFBZWpDLEVBQVdzQyxhQUFhLFNBQVMyQyxrQkFDaEQxQixFQUFnQnJILFUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0Zyb21WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhTdWJtaXQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Vc2VySW5mby5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoXG4gICAgeyBkYXRhLCBoYW5kbGVDYXJkQ2xpY2ssIGhhbmRsZURlbGV0ZUJ1dHRvbiwgaGFuZGxlTGlrZUJ1dHRvbiB9LFxuICAgIHVzZXJJZCxcbiAgICBjYXJkU2VsZWN0b3JcbiAgKSB7XG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQnV0dG9uID0gaGFuZGxlRGVsZXRlQnV0dG9uO1xuICAgIHRoaXMuX2hhbmRsZUxpa2VCdXR0b24gPSBoYW5kbGVMaWtlQnV0dG9uO1xuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XG4gICAgdGhpcy5fb3duZXIgPSBkYXRhLm93bmVyO1xuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcbiAgICB0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7XG4gICAgdGhpcy5fbGlrZXNBbW91bnQgPSBkYXRhLmxpa2VzLmxlbmd0aDtcbiAgICB0aGlzLmxpa2VkID0gZmFsc2U7XG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRcIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gIH1cblxuICByZW1vdmVDYXJkKCkge1xuICAgIGNvbnN0IGNhcmQgPSB0aGlzLl9lbGVtZW50O1xuICAgIGNhcmQucmVtb3ZlKCk7XG4gICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gIH1cblxuICBfZ2V0SWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lkO1xuICB9XG5cbiAgX2RlbGV0ZUJ1dHRvbigpIHtcbiAgICBjb25zdCBjYXJkVHJhc2hCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fYmluXCIpO1xuICAgIGlmICh0aGlzLl9vd25lci5faWQgIT09IHRoaXMuX3VzZXJJZCkge1xuICAgICAgY2FyZFRyYXNoQnV0dG9uLnJlbW92ZSgpO1xuICAgIH1cbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9lbGVtZW50QmluLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVCdXR0b24odGhpcy5fZ2V0SWQoKSk7XG4gICAgfSk7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlTGlrZUJ1dHRvbih0aGlzLl9saWtlQnV0dG9uLCB0aGlzLl9nZXRJZCgpKTtcbiAgICB9KTtcbiAgICB0aGlzLl9lbGVtZW50UGljdHVyZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspO1xuICAgIH0pO1xuICB9XG5cbiAgbGlrZShsaWtlQnV0dG9uKSB7XG4gICAgbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZWxlbWVudF9fYnV0dG9uX2FjdGl2ZVwiKTtcbiAgICB0aGlzLl9saWtlZCA9IHRydWU7XG4gIH1cblxuICB1bmxpa2UobGlrZUJ1dHRvbikge1xuICAgIGxpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImVsZW1lbnRfX2J1dHRvbl9hY3RpdmVcIik7XG4gICAgdGhpcy5fbGlrZWQgPSBmYWxzZTtcbiAgfVxuXG4gIGRpc3BsYXlUb3RhbExpa2VzKHRvdGFsTGlrZXMpIHtcbiAgICB0aGlzLl9jb3VudGVyLnRleHRDb250ZW50ID0gdG90YWxMaWtlcztcbiAgfVxuXG4gIGlzTGlrZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xpa2VkO1xuICB9XG5cbiAgX2hhbmRsZUNhcmRMaWtlcygpIHtcbiAgICBjb25zdCBjYXJkTGlrZXMgPSBBcnJheS5mcm9tKHRoaXMuX2xpa2VzKTtcbiAgICBjYXJkTGlrZXMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgaWYgKGVsZW1lbnQuX2lkID09PSB0aGlzLl91c2VySWQpIHtcbiAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZWxlbWVudF9fYnV0dG9uX2FjdGl2ZVwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGdlbmVyYXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICB0aGlzLl9lbGVtZW50QmluID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2JpblwiKTtcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2J1dHRvblwiKTtcbiAgICB0aGlzLl9lbGVtZW50UGljdHVyZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19waWN0dXJlXCIpO1xuICAgIHRoaXMuX2NvdW50ZXIgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fYnV0dG9uLWNvdW50ZXJcIik7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9lbGVtZW50UGljdHVyZS5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX2VsZW1lbnRQaWN0dXJlLmFsdCA9IGBQaG90byBvZiAke3RoaXMuX25hbWV9YDtcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9faGVhZGVyXCIpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9jb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXNBbW91bnQ7XG4gICAgdGhpcy5faGFuZGxlQ2FyZExpa2VzKCk7XG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uKCk7XG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgfVxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9vcGVuXCIpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY2FwZUNsb3NlKTtcbiAgfVxuXG4gIGNsb3NlKCkgIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlblwiKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NhcGVDbG9zZSk7XG4gIH07XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZSkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9vcGVuXCIpIHx8XG4gICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX19jbG9zZVwiKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIF9oYW5kbGVFc2NhcGVDbG9zZSA9IChlKSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9O1xufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwXCI7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVTdWJtaXQpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXQgPSBoYW5kbGVTdWJtaXQ7XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnV0dG9uXCIpO1xuICAgIHRoaXMuX2lucHV0cyA9IFsuLi50aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2lucHV0XCIpXTtcbiAgfVxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcbiAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIGlucHV0VmFsdWVzO1xuICB9XG5cbiAgY2hhbmdlQnV0dG9uVGV4dCh0ZXh0ID0gXCJTYXZpbmcuLi5cIikge1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IHRleHQ7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICAgIHRoaXMuY2hhbmdlQnV0dG9uVGV4dCgpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgIH0pO1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWxlbWVudCkge1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBzZXR0aW5ncy5pbnB1dFNlbGVjdG9yO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gc2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3I7XG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IHNldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBzZXR0aW5ncy5lcnJvckNsYXNzO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gICAgdGhpcy5fZWxlbWVudEJ1dHRvbiA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvclxuICAgICk7XG4gIH1cblxuICBfc2hvd0lucHV0RXJyb3IgPSAoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxuICAgICk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH07XG5cbiAgX2hpZGVJbnB1dEVycm9yID0gKGlucHV0RWxlbWVudCkgPT4ge1xuICAgIHRoaXMuX2Vycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgfTtcblxuICBfY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGlucHV0RWxlbWVudCkgPT4ge1xuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH1cbiAgfTtcblxuICBfaGFzSW52YWxpZElucHV0ID0gKGlucHV0c0xpc3QpID0+IHtcbiAgICBjb25zdCBpbnB1dHMgPSBBcnJheS5mcm9tKGlucHV0c0xpc3QpO1xuICAgIHJldHVybiBpbnB1dHMuc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcbiAgICB9KTtcbiAgfTtcblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCh0aGlzLl9pbnB1dHNMaXN0KSkge1xuICAgICAgdGhpcy5fZWxlbWVudEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgdGhpcy5fZWxlbWVudEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZWxlbWVudEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgdGhpcy5fZWxlbWVudEJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcbiAgICB9XG4gIH07XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xuICAgIHRoaXMuX2lucHV0c0xpc3QgPSBBcnJheS5mcm9tKFxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKVxuICAgICk7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICB0aGlzLl9pbnB1dHNMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgZW5hYmxlVmFsaWRhdGlvbiA9ICgpID0+IHtcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH07XG5cbiAgcmVzZXRWYWxpZGF0aW9uID0gKCkgPT4ge1xuICAgIHRoaXMuX2lucHV0c0xpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH0pO1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gIH07XG59XG4iLCJpbXBvcnQgXCIuLi9wYWdlcy9pbmRleC5jc3NcIjtcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvQ2FyZFwiO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2VcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybVwiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvVXNlckluZm9cIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvU2VjdGlvblwiO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9Gcm9tVmFsaWRhdG9yXCI7XG5pbXBvcnQgUG9wdXBXaXRoU3VibWl0IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoU3VibWl0XCI7XG5pbXBvcnQgQXBpIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvQXBpXCI7XG5pbXBvcnQgeyBwYWdlU2V0dGluZ3MgfSBmcm9tIFwiLi4vc2NyaXB0cy91dGlscy9jb25zdGFudHNcIjtcblxuY29uc3QgcGx1c1Byb2ZpbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3BsdXNcIik7XG5jb25zdCBwcm9maWxlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XG5jb25zdCBlZGl0UHJvZmlsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdFwiKTtcbmNvbnN0IHByb2ZpbGVJbnB1dE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbnB1dC1uYW1lXCIpO1xuY29uc3QgcHJvZmlsZUlucHV0QWJvdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbnB1dC1hYm91dFwiKTtcbmNvbnN0IHByb2ZpbGVJbnB1dEF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW1hZ2VcIik7XG5jb25zdCBjYXJkRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1fc2Vjb25kXCIpO1xuY29uc3QgZWRpdEF2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fb3ZlcmxheVwiKTtcbmNvbnN0IGF2YXRhckZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtX2F2YXRhclwiKTtcblxuXG5pbXBvcnQgaGVhZGVyU3JjIGZyb20gXCIuLi9pbWFnZXMvaGVhZGVyLnN2Z1wiO1xuY29uc3QgaGVhZGVySW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFyb3VuZC10aGUtdXNcIik7XG5oZWFkZXJJbWFnZS5zcmMgPSBoZWFkZXJTcmM7XG5cbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvZ3JvdXAtMTJcIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiMzJiOWVmYTAtNmYzNS00YWZlLTk3NWUtZTNhNmJlNDNjZmNiXCIsXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIH0sXG59KTtcblxuY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7fTtcblxuY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChjb25maWcpID0+IHtcbiAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmZvcm1TZWxlY3RvcikpO1xuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IHZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpO1xuICAgIGNvbnN0IGZvcm1OYW1lID0gZm9ybUVsZW1lbnQuZ2V0QXR0cmlidXRlKFwibmFtZVwiKTtcbiAgICBmb3JtVmFsaWRhdG9yc1tmb3JtTmFtZV0gPSB2YWxpZGF0b3I7XG4gICAgdmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbiAgfSk7XG59O1xuZW5hYmxlVmFsaWRhdGlvbihwYWdlU2V0dGluZ3MpO1xuXG5jb25zdCBjb25maXJtTW9kYWwgPSBuZXcgUG9wdXBXaXRoU3VibWl0KFwiLnBvcHVwX2NhcmRfcmVtb3ZlclwiKTtcbmNvbmZpcm1Nb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBpbWFnZU1vZGFsID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiLnBvcHVwX2JpZ19pbWFnZVwiKTtcbmltYWdlTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgZWRpdE1vZGFsID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfcHJvZmlsZV9hZGRlclwiLCAoZGF0YSkgPT4ge1xuICBhcGlcbiAgICAuZWRpdFByb2ZpbGUoeyBuYW1lOiBkYXRhLm5hbWUsIGFib3V0OiBkYXRhLmFib3V0IH0pXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oeyBuYW1lOiByZXMubmFtZSwgYWJvdXQ6IHJlcy5hYm91dCB9KTtcbiAgICAgIGVkaXRNb2RhbC5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgZWRpdE1vZGFsLmNoYW5nZUJ1dHRvblRleHQoXCJTYXZlXCIpO1xuICAgIH0pO1xufSk7XG5lZGl0TW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgYXZhdGFyRWRpdE1vZGFsID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfcHJvZmlsZV9jaGFuZ2VyXCIsIChkYXRhKSA9PiB7XG4gIGFwaVxuICAgIC5jaGFuZ2VBdmF0YXIoZGF0YS5hdmF0YXIpXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgdXNlckluZm8uc2V0VXNlckF2YXRhcih7IGF2YXRhcjogcmVzLmF2YXRhciB9KTtcbiAgICAgIGF2YXRhckVkaXRNb2RhbC5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgYXZhdGFyRWRpdE1vZGFsLmNoYW5nZUJ1dHRvblRleHQoXCJTYXZlXCIpO1xuICAgIH0pO1xufSk7XG5hdmF0YXJFZGl0TW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgYWRkQ2FyZE1vZGFsID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfY2FyZF9wdWJsaXNoZXJcIiwgKGRhdGEpID0+IHtcbiAgYXBpXG4gICAgLmNyZWF0ZUNhcmQoeyBuYW1lOiBkYXRhLmRlc2NyaXB0aW9uLCBsaW5rOiBkYXRhLmxpbmsgfSlcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICBzZWN0aW9uLmFkZEl0ZW0oY3JlYXRlTmV3Q2FyZChyZXMsIHJlcy5vd25lci5faWQpKTtcbiAgICAgIGFkZENhcmRNb2RhbC5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgYWRkQ2FyZE1vZGFsLmNoYW5nZUJ1dHRvblRleHQoXCJTYXZlXCIpO1xuICAgIH0pO1xufSk7XG5hZGRDYXJkTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuUHJvbWlzZS5hbGwoW2FwaS5nZXRJbml0aWFsQ2FyZHMoKSwgYXBpLmdldFVzZXJJbmZvKCldKVxuICAudGhlbigoW2NhcmREYXRhLCB1c2VyRGF0YV0pID0+IHtcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh7IG5hbWU6IHVzZXJEYXRhLm5hbWUsIGFib3V0OiB1c2VyRGF0YS5hYm91dCB9KTtcbiAgICBzZWN0aW9uLnJlbmRlcihjYXJkRGF0YSk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5sb2coZXJyKTtcbiAgfSk7XG5cbmNvbnN0IHNlY3Rpb24gPSBuZXcgU2VjdGlvbihcbiAge1xuICAgIHJlbmRlcmVyOiAoY2FyZERhdGEpID0+IHtcbiAgICAgIHNlY3Rpb24uYWRkSXRlbShjcmVhdGVOZXdDYXJkKGNhcmREYXRhKSk7XG4gICAgfSxcbiAgfSxcbiAgXCIuZWxlbWVudHNfX2xpc3RcIlxuKTtcblxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oXG4gIHByb2ZpbGVJbnB1dE5hbWUsXG4gIHByb2ZpbGVJbnB1dEFib3V0LFxuICBwcm9maWxlSW5wdXRBdmF0YXJcbik7XG5cbmZ1bmN0aW9uIGNyZWF0ZU5ld0NhcmQoZGF0YSwgaWQpIHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgIHtcbiAgICAgIGRhdGEsXG4gICAgICBoYW5kbGVDYXJkQ2xpY2s6IChuYW1lLCBsaW5rKSA9PiB7XG4gICAgICAgIGltYWdlTW9kYWwub3BlbihuYW1lLCBsaW5rKTtcbiAgICAgIH0sXG4gICAgICBoYW5kbGVEZWxldGVCdXR0b246IChjYXJkSWQpID0+IHtcbiAgICAgICAgY29uZmlybU1vZGFsLm9wZW4oY2FyZElkKTtcbiAgICAgICAgY29uZmlybU1vZGFsLnNldEFjdGlvbigoKSA9PiB7XG4gICAgICAgICAgYXBpXG4gICAgICAgICAgICAuZGVsZXRlQ2FyZChjYXJkSWQpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGNhcmQucmVtb3ZlQ2FyZCgpO1xuICAgICAgICAgICAgICBjb25maXJtTW9kYWwuY2xvc2UoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGhhbmRsZUxpa2VCdXR0b246IChsaWtlQnV0dG9uLCBpZCkgPT4ge1xuICAgICAgICBpZiAoY2FyZC5pc0xpa2VkKCkpIHtcbiAgICAgICAgICBhcGlcbiAgICAgICAgICAgIC5kaXNsaWtlQ2FyZChpZClcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgY2FyZC5kaXNwbGF5VG90YWxMaWtlcyhyZXMubGlrZXMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgY2FyZC51bmxpa2UobGlrZUJ1dHRvbik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFwaVxuICAgICAgICAgICAgLmxpa2VDYXJkKGlkKVxuICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgICBjYXJkLmRpc3BsYXlUb3RhbExpa2VzKHJlcy5saWtlcy5sZW5ndGgpO1xuICAgICAgICAgICAgICBjYXJkLmxpa2UobGlrZUJ1dHRvbik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0sXG4gICAgaWQsXG4gICAgXCIjY2FyZC10ZW1wbGF0ZVwiXG4gICk7XG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xufVxuXG5mdW5jdGlvbiBmaWxsUHJvZmlsZUZvcm0oKSB7XG4gIGNvbnN0IHVzZXJEYXRhID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgcHJvZmlsZUlucHV0TmFtZS52YWx1ZSA9IHVzZXJEYXRhLm5hbWU7XG4gIHByb2ZpbGVJbnB1dEFib3V0LnZhbHVlID0gdXNlckRhdGEuam9iO1xufVxuXG5lZGl0UHJvZmlsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBmb3JtVmFsaWRhdG9yc1twcm9maWxlRm9ybS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpXS5yZXNldFZhbGlkYXRpb24oKTtcbiAgZmlsbFByb2ZpbGVGb3JtKCk7XG4gIGVkaXRNb2RhbC5vcGVuKCk7XG59KTtcblxucGx1c1Byb2ZpbGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgZm9ybVZhbGlkYXRvcnNbY2FyZEZvcm0uZ2V0QXR0cmlidXRlKFwibmFtZVwiKV0ucmVzZXRWYWxpZGF0aW9uKCk7XG4gIGFkZENhcmRNb2RhbC5vcGVuKCk7XG59KTtcblxuZWRpdEF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBmb3JtVmFsaWRhdG9yc1thdmF0YXJGb3JtLmdldEF0dHJpYnV0ZShcIm5hbWVcIildLnJlc2V0VmFsaWRhdGlvbigpO1xuICBhdmF0YXJFZGl0TW9kYWwub3BlbigpO1xufSk7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xuICB9XG5cbiAgX2NoZWNrUmVzcG9uc2UocmVzKSB7XG4gICAgcmV0dXJuIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChcIkVycm9yIVwiICsgcmVzLnN0YXR1c1RleHQpO1xuICB9XG5cbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIGVkaXRQcm9maWxlKHsgbmFtZSwgYWJvdXQgfSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgYWJvdXQsXG4gICAgICB9KSxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG5cbiAgY3JlYXRlQ2FyZCh7IG5hbWUsIGxpbmsgfSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lLFxuICAgICAgICBsaW5rLFxuICAgICAgfSksXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIGxpa2VDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICBkaXNsaWtlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG5cbiAgY2hhbmdlQXZhdGFyKGF2YXRhcikge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcixcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBwYWdlU2V0dGluZ3MgPSB7XG4gIGZvcm1TZWxlY3RvcjogXCIucG9wdXBfX2Zvcm1cIixcbiAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX2J1dHRvbl9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJwb3B1cF9fZXJyb3JfdmlzaWJsZVwiLFxufTtcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhTdWJtaXQgZXh0ZW5kcyBQb3B1cCB7XG4gIHNldEFjdGlvbihhY3Rpb24pIHtcbiAgICB0aGlzLl9zdWJtaXRIYW5kbGVyID0gYWN0aW9uO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5fc3VibWl0SGFuZGxlcih0aGlzLl9mb3JtKTtcbiAgICB9KTtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIG9wZW4obmFtZSwgbGluaykge1xuICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2VcIik7XG4gICAgdGhpcy5fY2FwdGlvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Rlc2NyaXB0aW9uXCIpO1xuICAgIHRoaXMuX2NhcHRpb24udGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIHRoaXMuX2ltYWdlLmFsdCA9IGBQaG90byBvZiAke25hbWV9YDtcbiAgICB0aGlzLl9pbWFnZS5zcmMgPSBsaW5rO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICB9XG5cbiAgYWRkSXRlbShjYXJkKSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoY2FyZCk7XG4gIH1cblxuICByZW5kZXIoaXRlbXMpIHtcbiAgICBpdGVtcy5mb3JFYWNoKChkYXRhKSA9PiB7XG4gICAgICB0aGlzLl9yZW5kZXJlcihkYXRhKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7IHByb2ZpbGVOYW1lU2VsZWN0b3IsIHByb2ZpbGVKb2JTZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IgfSkge1xuICAgIHRoaXMuX3Byb2ZpbGVOYW1lID0gcHJvZmlsZU5hbWVTZWxlY3RvcjtcbiAgICB0aGlzLl9wcm9maWxlSm9iID0gcHJvZmlsZUpvYlNlbGVjdG9yO1xuICAgIHRoaXMuX2F2YXRhciA9IGF2YXRhclNlbGVjdG9yO1xuICB9XG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudCxcbiAgICAgIGpvYjogdGhpcy5fcHJvZmlsZUpvYi50ZXh0Q29udGVudCxcbiAgICB9O1xuICB9XG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQgfSkge1xuICAgIHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl9wcm9maWxlSm9iLnRleHRDb250ZW50ID0gYWJvdXQ7XG4gIH1cblxuICBnZXRVc2VyQXZhdGFyKCkge1xuICAgIHJldHVybiB7XG4gICAgICBhdmF0YXI6IHRoaXMuX2F2YXRhci5zcmMsXG4gICAgfTtcbiAgfVxuICBzZXRVc2VyQXZhdGFyKHsgYXZhdGFyIH0pIHtcbiAgICB0aGlzLl9hdmF0YXIuc3JjID0gYXZhdGFyO1xuICB9XG59XG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJwIiwiQ2FyZCIsImNvbnN0cnVjdG9yIiwidXNlcklkIiwiY2FyZFNlbGVjdG9yIiwiZGF0YSIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZURlbGV0ZUJ1dHRvbiIsImhhbmRsZUxpa2VCdXR0b24iLCJ0aGlzIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlRGVsZXRlQnV0dG9uIiwiX2hhbmRsZUxpa2VCdXR0b24iLCJfaWQiLCJfb3duZXIiLCJvd25lciIsIl91c2VySWQiLCJfbGlrZXMiLCJsaWtlcyIsIl9saWtlc0Ftb3VudCIsImxlbmd0aCIsImxpa2VkIiwiX2dldFRlbXBsYXRlIiwiX2VsZW1lbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwicmVtb3ZlQ2FyZCIsInJlbW92ZSIsIl9nZXRJZCIsIl9kZWxldGVCdXR0b24iLCJjYXJkVHJhc2hCdXR0b24iLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfZWxlbWVudEJpbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJfbGlrZUJ1dHRvbiIsIl9lbGVtZW50UGljdHVyZSIsImxpa2UiLCJsaWtlQnV0dG9uIiwiY2xhc3NMaXN0IiwiYWRkIiwiX2xpa2VkIiwidW5saWtlIiwiZGlzcGxheVRvdGFsTGlrZXMiLCJ0b3RhbExpa2VzIiwiX2NvdW50ZXIiLCJ0ZXh0Q29udGVudCIsImlzTGlrZWQiLCJfaGFuZGxlQ2FyZExpa2VzIiwiQXJyYXkiLCJmcm9tIiwiZm9yRWFjaCIsImVsZW1lbnQiLCJnZW5lcmF0ZUNhcmQiLCJzcmMiLCJhbHQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJlIiwia2V5IiwiY2xvc2UiLCJfcG9wdXAiLCJvcGVuIiwiX2hhbmRsZUVzY2FwZUNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNldEV2ZW50TGlzdGVuZXJzIiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlU3VibWl0Iiwic3VwZXIiLCJfaGFuZGxlU3VibWl0IiwiX2Zvcm0iLCJfc3VibWl0QnV0dG9uIiwiX2lucHV0cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJpbnB1dFZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJjaGFuZ2VCdXR0b25UZXh0IiwidGV4dCIsInByZXZlbnREZWZhdWx0IiwicmVzZXQiLCJGb3JtVmFsaWRhdG9yIiwic2V0dGluZ3MiLCJmb3JtRWxlbWVudCIsImlucHV0RWxlbWVudCIsIl9lcnJvckVsZW1lbnQiLCJfZm9ybUVsZW1lbnQiLCJpZCIsIl9pbnB1dEVycm9yQ2xhc3MiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9lcnJvckNsYXNzIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0c0xpc3QiLCJzb21lIiwiX2hhc0ludmFsaWRJbnB1dCIsIl9pbnB1dHNMaXN0IiwiX2VsZW1lbnRCdXR0b24iLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsInNldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsIl9pbnB1dFNlbGVjdG9yIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsImV2dCIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwicGx1c1Byb2ZpbGVCdXR0b24iLCJwcm9maWxlRm9ybSIsImVkaXRQcm9maWxlQnV0dG9uIiwicHJvZmlsZUlucHV0TmFtZSIsInByb2ZpbGVJbnB1dEFib3V0IiwicHJvZmlsZUlucHV0QXZhdGFyIiwiY2FyZEZvcm0iLCJlZGl0QXZhdGFyQnV0dG9uIiwiYXZhdGFyRm9ybSIsImdldEVsZW1lbnRCeUlkIiwiaGVhZGVyU3JjIiwiYXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiX2NoZWNrUmVzcG9uc2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzVGV4dCIsImdldEluaXRpYWxDYXJkcyIsImZldGNoIiwidGhlbiIsImdldFVzZXJJbmZvIiwiZWRpdFByb2ZpbGUiLCJhYm91dCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY3JlYXRlQ2FyZCIsImRlbGV0ZUNhcmQiLCJjYXJkSWQiLCJsaWtlQ2FyZCIsImRpc2xpa2VDYXJkIiwiY2hhbmdlQXZhdGFyIiwiYXZhdGFyIiwiYXV0aG9yaXphdGlvbiIsImZvcm1WYWxpZGF0b3JzIiwiY29uZmlnIiwiZm9ybVNlbGVjdG9yIiwidmFsaWRhdG9yIiwiZm9ybU5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJlbmFibGVWYWxpZGF0aW9uIiwiY29uZmlybU1vZGFsIiwic2V0QWN0aW9uIiwiYWN0aW9uIiwiX3N1Ym1pdEhhbmRsZXIiLCJpbWFnZU1vZGFsIiwiX2ltYWdlIiwiX2NhcHRpb24iLCJlZGl0TW9kYWwiLCJ1c2VySW5mbyIsInNldFVzZXJJbmZvIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiZmluYWxseSIsImF2YXRhckVkaXRNb2RhbCIsInNldFVzZXJBdmF0YXIiLCJhZGRDYXJkTW9kYWwiLCJkZXNjcmlwdGlvbiIsInNlY3Rpb24iLCJhZGRJdGVtIiwiY3JlYXRlTmV3Q2FyZCIsImFsbCIsImNhcmREYXRhIiwidXNlckRhdGEiLCJyZW5kZXIiLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImNhcmQiLCJwcmVwZW5kIiwiaXRlbXMiLCJwcm9maWxlTmFtZVNlbGVjdG9yIiwicHJvZmlsZUpvYlNlbGVjdG9yIiwiYXZhdGFyU2VsZWN0b3IiLCJfcHJvZmlsZU5hbWUiLCJfcHJvZmlsZUpvYiIsIl9hdmF0YXIiLCJqb2IiLCJnZXRVc2VyQXZhdGFyIiwicmVzZXRWYWxpZGF0aW9uIiwiZmlsbFByb2ZpbGVGb3JtIl0sInNvdXJjZVJvb3QiOiIifQ==