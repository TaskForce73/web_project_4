!function(){"use strict";var e={730:function(e,t,s){e.exports=s.p+"2f8a4cd99a9a7a10b10b.png"},14:function(e,t,s){e.exports=s.p+"4e8e0a1d604782a0dff8.svg"}},t={};function s(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,s),i.exports}s.p="",function(){class e{constructor(e,t,s){let{data:n,handleCardClick:r,handleDeleteButton:i,handleLikeButton:o}=e;this._name=n.name,this._link=n.link,this._cardSelector=s,this._handleCardClick=r,this._handleDeleteButton=i,this._handleLikeButton=o,this._id=n._id,this._owner=n.owner,this._userId=t,this._likes=n.likes,this._likesAmount=n.likes.length}_getTemplate(){return this._element=document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0),this._element}removeCard(){this._element.remove(),this._element=null}_getId(){return this._id}_deleteButton(){const e=this._element.querySelector(".element__bin");this._owner._id!==this._userId&&e.remove()}_setEventListeners(){this._elementBin.addEventListener("click",(()=>{this._handleDeleteButton(this._getId())})),this._likeButton.addEventListener("click",(()=>{this._handleLikeButton(this._likeButton,this._getId())})),this._elementPicture.addEventListener("click",(()=>{this._handleCardClick(this._name,this._link)}))}toggleLikeButton(e){e.classList.toggle("element__button_active")}displayTotalLikes(e){this._counter.textContent=e}_handleCardLikes(){Array.from(this._likes).forEach((e=>{e._id===this._userId&&this._likeButton.classList.add("element__button_active")}))}generateCard(){return this._element=this._getTemplate(),this._elementBin=this._element.querySelector(".element__bin"),this._likeButton=this._element.querySelector(".element__button"),this._elementPicture=this._element.querySelector(".element__picture"),this._counter=this._element.querySelector(".element__button-counter"),this._setEventListeners(),this._elementPicture.src=this._link,this._elementPicture.alt="Photo of ".concat(this._name),this._element.querySelector(".element__header").textContent=this._name,this._counter.textContent=this._likesAmount,this._handleCardLikes(),this._deleteButton(),this._element}}class t{constructor(e){var t,s;s=e=>{"Escape"===e.key&&this.close()},(t="_handleEscapeClose")in this?Object.defineProperty(this,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):this[t]=s,this._popup=document.querySelector(e)}open(){this._popup.classList.add("popup_open"),document.addEventListener("keydown",this._handleEscapeClose)}close(){this._popup.classList.remove("popup_open"),document.removeEventListener("keydown",this._handleEscapeClose)}setEventListeners(){this._popup.addEventListener("mousedown",(e=>{(e.target.classList.contains("popup_open")||e.target.classList.contains("popup__close"))&&this.close()}))}}class n extends t{constructor(e,t){super(e),this._handleSubmit=t,this._form=this._popup.querySelector(".popup__form"),this._submitButton=this._popup.querySelector(".popup__button"),this._inputs=[...this._form.querySelectorAll(".popup__input")]}_getInputValues(){const e={};return this._inputs.forEach((t=>{e[t.name]=t.value})),e}changeButtonText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Saving...";this._submitButton.textContent=e}setEventListeners(){this._form.addEventListener("submit",(e=>{this.changeButtonText(),e.preventDefault(),this._handleSubmit(this._getInputValues())})),super.setEventListeners()}close(){this._form.reset(),super.close()}}function r(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class i{constructor(e,t){r(this,"_showInputError",(e=>{this._errorElement=this._formElement.querySelector(".".concat(e.id,"-error")),e.classList.add(this._inputErrorClass),this._errorElement.textContent=e.validationMessage,this._errorElement.classList.add(this._errorClass)})),r(this,"_hideInputError",(e=>{this._errorElement=this._formElement.querySelector(".".concat(e.id,"-error")),e.classList.remove(this._inputErrorClass),this._errorElement.classList.remove(this._errorClass),this._errorElement.textContent=""})),r(this,"_checkInputValidity",(e=>{e.validity.valid?this._hideInputError(e):this._showInputError(e)})),r(this,"_hasInvalidInput",(e=>Array.from(e).some((e=>!e.validity.valid)))),r(this,"_toggleButtonState",(()=>{this._hasInvalidInput(this._inputsList)?(this._elementButton.classList.add(this._inactiveButtonClass),this._elementButton.setAttribute("disabled",!0)):(this._elementButton.classList.remove(this._inactiveButtonClass),this._elementButton.removeAttribute("disabled"))})),r(this,"_setEventListeners",(()=>{this._inputsList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._toggleButtonState(),this._inputsList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))})),r(this,"enableValidation",(()=>{this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()})),r(this,"resetValidation",(()=>{this._inputsList.forEach((e=>{this._hideInputError(e)})),this._toggleButtonState()})),this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=t,this._elementButton=this._formElement.querySelector(this._submitButtonSelector)}}var o=s(14),a=s(730);const l=document.querySelector(".profile__plus"),c=document.querySelector(".popup__form"),h=document.querySelector(".profile__edit"),_=document.querySelector(".popup__form_second"),u=document.querySelector(".popup__input-name"),p=document.querySelector(".popup__input-about"),d=document.querySelector(".profile__overlay"),m=document.querySelector(".popup__form_avatar");document.getElementById("around-the-us").src=o,document.getElementById("profile-image").src=a;const v=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s}_checkResponse(e){return e.ok?e.json():Promise.reject("Error!"+e.statusText)}getInitialCards(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then(this._checkResponse)}getUserInfo(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then(this._checkResponse)}createCard(e){let{name:t,link:s}=e;return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:s})}).then(this._checkResponse)}deleteCard(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}likeCard(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then(this._checkResponse)}dislikeCard(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}changeAvatar(e){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._checkResponse)}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"32b9efa0-6f35-4afe-975e-e3a6be43cfcb","Content-Type":"application/json"}}),f={};var g;g={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},Array.from(document.querySelectorAll(g.formSelector)).forEach((e=>{const t=new i(g,e),s=e.getAttribute("name");f[s]=t,t.enableValidation()}));const b=new class extends t{setAction(e){this._submitHandler=e}setEventListeners(){this._form=this._popup.querySelector(".popup__form"),this._popup.addEventListener("submit",(e=>{e.preventDefault(),this._submitHandler(this._form)})),super.setEventListeners()}}(".popup_card_remover");b.setEventListeners();const E=new class extends t{open(e,t){this._image=this._popup.querySelector(".popup__image"),this._caption=this._popup.querySelector(".popup__description"),this._caption.textContent=e,this._image.alt="Photo of ".concat(e),this._image.src=t,super.open()}}(".popup_big_image");E.setEventListeners();const S=new n(".popup_profile_adder",(e=>{C.setUserInfo(e),S.close()}));S.setEventListeners();const k=new n(".popup_profile_changer",(e=>{v.changeAvatar(e.avatar).then((e=>{C.setUserAvatar({avatar:e.avatar}),k.close()})).catch((e=>console.log(e))).finally((e=>{k.changeButtonText("Save")}))}));k.setEventListeners();const y=new n(".popup_card_publisher",(e=>{v.createCard({name:e.description,link:e.link}).then((e=>{L.addItem(B(e)),y.close()})).catch((e=>console.log(e))).finally((e=>{y.changeButtonText("Save")}))}));y.setEventListeners(),Promise.all([v.getInitialCards(),v.getUserInfo()]).then((e=>{let[t,s]=e;C.setUserInfo({name:s.name,about:s.about}),L.render(t)})).catch((e=>{console.log(e)})).finally((e=>{S.changeButtonText("Save")}));const L=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=document.querySelector(t)}addItem(e){this._container.prepend(e)}render(e){e.forEach((e=>{this._renderer(e)}))}}({renderer:e=>{L.addItem(B(e))}},".elements__list"),C=new class{constructor(e){let{profileNameSelector:t,profileJobSelector:s,avatarSelector:n}=e;this._profileName=document.querySelector(t),this._profileJob=document.querySelector(s),this._avatar=document.querySelector(n)}getUserInfo(){return{name:this._profileName.textContent,job:this._profileJob.textContent}}setUserInfo(e){let{name:t,about:s}=e;this._profileName.textContent=t,this._profileJob.textContent=s}getUserAvatar(){return{avatar:this._avatar.src}}setUserAvatar(e){let{avatar:t}=e;this._avatar.src=t}}({profileNameSelector:".profile__author",profileJobSelector:".profile__text",avatarSelector:".profile__image"});function B(t){const s=new e({data:t,handleCardClick:(e,t)=>{E.open(e,t)},handleDeleteButton:e=>{b.open(e),b.setAction((()=>{v.deleteCard(e).then((()=>{s.removeCard(),b.close()})).catch((e=>console.log(e)))}))},handleLikeButton:(e,t)=>{e.classList.contains("element__button_active")?v.dislikeCard(t).then((t=>{s.displayTotalLikes(t.likes.length),s.toggleLikeButton(e)})).catch((e=>console.log(e))):v.likeCard(t).then((t=>{s.displayTotalLikes(t.likes.length),s.toggleLikeButton(e)})).catch((e=>console.log(e)))}},void 0,"#card-template");return s.generateCard()}h.addEventListener("click",(()=>{f[c.getAttribute("name")].resetValidation(),function(){const e=C.getUserInfo();u.value=e.name,p.value=e.job}(),S.open()})),l.addEventListener("click",(()=>{f[_.getAttribute("name")].resetValidation(),y.open()})),d.addEventListener("click",(()=>{f[m.getAttribute("name")].resetValidation(),k.open()}))}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UUFDakMySyxFQUFLMUosaUJBQWlCQyxNQUV2QnNJLE9BQU9DLEdBQVFDLFFBQVFDLElBQUlGLEtBRTlCaEQsRUFDR3VCLFNBQVM1RCxHQUNUbUQsTUFBTVIsSUFDTDRELEVBQUt0SixrQkFBa0IwRixFQUFJakgsTUFBTUUsUUFDakMySyxFQUFLMUosaUJBQWlCQyxNQUV2QnNJLE9BQU9DLEdBQVFDLFFBQVFDLElBQUlGLFlBcklwQ3JGLEVBMElBLGtCQUdGLE9BRG9CdUcsRUFBSzVJLGVBVTNCaUUsRUFBa0JsRixpQkFBaUIsU0FBUyxLQUMxQ3VILEVBQWV0QyxFQUFZMkMsYUFBYSxTQUFTNEMsa0JBUG5ELFdBQ0UsTUFBTWxCLEVBQVdoQixFQUFTNUIsY0FDMUJ0QixFQUFpQnpDLE1BQVEyRyxFQUFTbEwsS0FDbENpSCxFQUFrQjFDLE1BQVEyRyxFQUFTZ0IsSUFLbkNHLEdBQ0FwQyxFQUFVM0csVUFHWnNELEVBQWtCaEYsaUJBQWlCLFNBQVMsS0FDMUN1SCxFQUFlcEMsRUFBU3lDLGFBQWEsU0FBUzRDLGtCQUM5Q3pCLEVBQWFySCxVQUdmNEQsRUFBaUJ0RixpQkFBaUIsU0FBUyxLQUN6Q3VILEVBQWVoQyxFQUFXcUMsYUFBYSxTQUFTNEMsa0JBQ2hEaEMsRUFBZ0I5RyxVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80L3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Gcm9tVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoU3VibWl0LmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvVXNlckluZm8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHsgZGF0YSwgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVEZWxldGVCdXR0b24sIGhhbmRsZUxpa2VCdXR0b259LFxuICAgIHVzZXJJZCxcbiAgICBjYXJkU2VsZWN0b3JcbiAgKSB7XG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQnV0dG9uID0gaGFuZGxlRGVsZXRlQnV0dG9uO1xuICAgIHRoaXMuX2hhbmRsZUxpa2VCdXR0b24gPSBoYW5kbGVMaWtlQnV0dG9uO1xuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XG4gICAgdGhpcy5fb3duZXIgPSBkYXRhLm93bmVyO1xuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcbiAgICB0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7XG4gICAgdGhpcy5fbGlrZXNBbW91bnQgPSBkYXRhLmxpa2VzLmxlbmd0aDtcbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudFwiKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxuXG4gIHJlbW92ZUNhcmQoKSB7XG4gICAgY29uc3QgY2FyZCA9IHRoaXMuX2VsZW1lbnQ7XG4gICAgY2FyZC5yZW1vdmUoKTtcbiAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgfVxuXG4gIF9nZXRJZCgpIHtcbiAgICByZXR1cm4gdGhpcy5faWQ7XG4gIH1cblxuICAgIF9kZWxldGVCdXR0b24oKSB7IFxuICAgICAgY29uc3QgY2FyZFRyYXNoQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2JpblwiKTsgXG4gICAgICBpZiAodGhpcy5fb3duZXIuX2lkICE9PSB0aGlzLl91c2VySWQpIHsgXG4gICAgICAgICAgY2FyZFRyYXNoQnV0dG9uLnJlbW92ZSgpO1xuICAgICAgfSBcbiAgfSBcblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fZWxlbWVudEJpbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQnV0dG9uKHRoaXMuX2dldElkKCkpO1xuICAgIH0pO1xuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VCdXR0b24odGhpcy5fbGlrZUJ1dHRvbiwgdGhpcy5fZ2V0SWQoKSk7XG4gICAgfSk7XG4gICAgdGhpcy5fZWxlbWVudFBpY3R1cmUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKTtcbiAgICB9KTtcbiAgfVxuXG4gIHRvZ2dsZUxpa2VCdXR0b24obGlrZUJ1dHRvbikge1xuICAgIGxpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImVsZW1lbnRfX2J1dHRvbl9hY3RpdmVcIik7XG4gIH1cblxuICBkaXNwbGF5VG90YWxMaWtlcyh0b3RhbExpa2VzKSB7XG4gICAgdGhpcy5fY291bnRlci50ZXh0Q29udGVudCA9IHRvdGFsTGlrZXM7XG4gIH1cblxuICBfaGFuZGxlQ2FyZExpa2VzKCkge1xuICAgIGNvbnN0IGNhcmRMaWtlcyA9IEFycmF5LmZyb20odGhpcy5fbGlrZXMpO1xuICAgIGNhcmRMaWtlcy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICBpZiAoZWxlbWVudC5faWQgPT09IHRoaXMuX3VzZXJJZCkge1xuICAgICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJlbGVtZW50X19idXR0b25fYWN0aXZlXCIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZ2VuZXJhdGVDYXJkKCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIHRoaXMuX2VsZW1lbnRCaW4gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fYmluXCIpO1xuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fYnV0dG9uXCIpO1xuICAgIHRoaXMuX2VsZW1lbnRQaWN0dXJlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX3BpY3R1cmVcIik7XG4gICAgdGhpcy5fY291bnRlciA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19idXR0b24tY291bnRlclwiKTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2VsZW1lbnRQaWN0dXJlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fZWxlbWVudFBpY3R1cmUuYWx0ID0gYFBob3RvIG9mICR7dGhpcy5fbmFtZX1gO1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19oZWFkZXJcIikudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX2NvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlc0Ftb3VudDtcbiAgICB0aGlzLl9oYW5kbGVDYXJkTGlrZXMoKTtcbiAgICB0aGlzLl9kZWxldGVCdXR0b24oKTtcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICB9XG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5cIik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjYXBlQ2xvc2UpO1xuICB9XG5cbiAgY2xvc2UoKSAge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuXCIpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY2FwZUNsb3NlKTtcbiAgfTtcblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChlKSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX29wZW5cIikgfHxcbiAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBfX2Nsb3NlXCIpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgX2hhbmRsZUVzY2FwZUNsb3NlID0gKGUpID0+IHtcbiAgICBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH07XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZVN1Ym1pdCkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCA9IGhhbmRsZVN1Ym1pdDtcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25cIik7XG4gICAgdGhpcy5faW5wdXRzID0gWy4uLnRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIildO1xuICB9XG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xuICAgIHRoaXMuX2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgaW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XG4gIH1cblxuICBjaGFuZ2VCdXR0b25UZXh0KHRleHQgPSBcIlNhdmluZy4uLlwiKSB7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gdGV4dDtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgICAgdGhpcy5jaGFuZ2VCdXR0b25UZXh0KCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9oYW5kbGVTdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgfSk7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcbiAgICBzdXBlci5jbG9zZSgpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IHNldHRpbmdzLmlucHV0U2VsZWN0b3I7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBzZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBzZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IHNldHRpbmdzLmVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcbiAgICB0aGlzLl9lbGVtZW50QnV0dG9uID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yXG4gICAgKTtcbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIHRoaXMuX2Vycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcbiAgfTtcblxuICBfaGlkZUlucHV0RXJyb3IgPSAoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxuICAgICk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuICB9O1xuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkgPSAoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9O1xuXG4gIF9oYXNJbnZhbGlkSW5wdXQgPSAoaW5wdXRzTGlzdCkgPT4ge1xuICAgIGNvbnN0IGlucHV0cyA9IEFycmF5LmZyb20oaW5wdXRzTGlzdCk7XG4gICAgcmV0dXJuIGlucHV0cy5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICB9O1xuXG4gIF90b2dnbGVCdXR0b25TdGF0ZSA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KHRoaXMuX2lucHV0c0xpc3QpKSB7XG4gICAgICB0aGlzLl9lbGVtZW50QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICB0aGlzLl9lbGVtZW50QnV0dG9uLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9lbGVtZW50QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICB0aGlzLl9lbGVtZW50QnV0dG9uLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xuICAgIH1cbiAgfTtcblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgdGhpcy5faW5wdXRzTGlzdCA9IEFycmF5LmZyb20oXG4gICAgICB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXG4gICAgKTtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgIHRoaXMuX2lucHV0c0xpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBlbmFibGVWYWxpZGF0aW9uID0gKCkgPT4ge1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfTtcblxuICByZXNldFZhbGlkYXRpb24gPSAoKSA9PiB7XG4gICAgdGhpcy5faW5wdXRzTGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSk7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgfTtcbn1cbiIsImltcG9ydCBcIi4uL3BhZ2VzL2luZGV4LmNzc1wiO1xuaW1wb3J0IENhcmQgZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9DYXJkXCI7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZVwiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9Vc2VySW5mb1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9TZWN0aW9uXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL0Zyb21WYWxpZGF0b3JcIjtcbmltcG9ydCBQb3B1cFdpdGhTdWJtaXQgZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhTdWJtaXRcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9BcGlcIjtcbmltcG9ydCB7IHBhZ2VTZXR0aW5ncyB9IGZyb20gXCIuLi9zY3JpcHRzL3V0aWxzL2NvbnN0YW50c1wiO1xuXG5jb25zdCBwbHVzUHJvZmlsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fcGx1c1wiKTtcbmNvbnN0IHByb2ZpbGVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcbmNvbnN0IGVkaXRQcm9maWxlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0XCIpO1xuY29uc3QgY2FyZEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtX3NlY29uZFwiKTtcbmNvbnN0IHByb2ZpbGVJbnB1dE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbnB1dC1uYW1lXCIpO1xuY29uc3QgcHJvZmlsZUlucHV0QWJvdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbnB1dC1hYm91dFwiKTtcbmNvbnN0IGVkaXRBdmF0YXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX292ZXJsYXlcIik7XG5jb25zdCBhdmF0YXJGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybV9hdmF0YXJcIik7XG5sZXQgaWQ7XG5cbmltcG9ydCBoZWFkZXJTcmMgZnJvbSBcIi4uL2ltYWdlcy9oZWFkZXIuc3ZnXCI7XG5jb25zdCBoZWFkZXJJbWFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXJvdW5kLXRoZS11c1wiKTtcbmhlYWRlckltYWdlLnNyYyA9IGhlYWRlclNyYztcblxuaW1wb3J0IHByb2ZpbGVTcmMgZnJvbSBcIi4uL2ltYWdlcy9Db3VzdGVhdS5wbmdcIjtcbmNvbnN0IHByb2ZpbGVJbWFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvZmlsZS1pbWFnZVwiKTtcbnByb2ZpbGVJbWFnZS5zcmMgPSBwcm9maWxlU3JjO1xuXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTEyXCIsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcIjMyYjllZmEwLTZmMzUtNGFmZS05NzVlLWUzYTZiZTQzY2ZjYlwiLFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICB9LFxufSk7XG5cbmNvbnN0IGZvcm1WYWxpZGF0b3JzID0ge307XG5cbmNvbnN0IGVuYWJsZVZhbGlkYXRpb24gPSAoY29uZmlnKSA9PiB7XG4gIGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5mb3JtU2VsZWN0b3IpKTtcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcbiAgICBjb25zdCB2YWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGZvcm1FbGVtZW50KTtcbiAgICBjb25zdCBmb3JtTmFtZSA9IGZvcm1FbGVtZW50LmdldEF0dHJpYnV0ZShcIm5hbWVcIik7XG4gICAgZm9ybVZhbGlkYXRvcnNbZm9ybU5hbWVdID0gdmFsaWRhdG9yO1xuICAgIHZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG4gIH0pO1xufTtcbmVuYWJsZVZhbGlkYXRpb24ocGFnZVNldHRpbmdzKTtcblxuY29uc3QgY29uZmlybU1vZGFsID0gbmV3IFBvcHVwV2l0aFN1Ym1pdChcIi5wb3B1cF9jYXJkX3JlbW92ZXJcIik7XG5jb25maXJtTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgaW1hZ2VNb2RhbCA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIi5wb3B1cF9iaWdfaW1hZ2VcIik7XG5pbWFnZU1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IGVkaXRNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwX3Byb2ZpbGVfYWRkZXJcIiwgKGRhdGEpID0+IHtcbiAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YSk7XG4gIGVkaXRNb2RhbC5jbG9zZSgpO1xufSk7XG5lZGl0TW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgYXZhdGFyRWRpdE1vZGFsID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfcHJvZmlsZV9jaGFuZ2VyXCIsIChkYXRhKSA9PiB7XG4gIGFwaVxuICAgIC5jaGFuZ2VBdmF0YXIoZGF0YS5hdmF0YXIpXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgdXNlckluZm8uc2V0VXNlckF2YXRhcih7IGF2YXRhcjogcmVzLmF2YXRhciB9KTtcbiAgICAgIGF2YXRhckVkaXRNb2RhbC5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXG4gICAgLmZpbmFsbHkoKHRleHQpID0+IHtcbiAgICAgIGF2YXRhckVkaXRNb2RhbC5jaGFuZ2VCdXR0b25UZXh0KHRleHQgPSBcIlNhdmVcIilcbiAgICB9KTtcbn0pO1xuYXZhdGFyRWRpdE1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IGFkZENhcmRNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwX2NhcmRfcHVibGlzaGVyXCIsIChkYXRhKSA9PiB7XG4gIGFwaVxuICAgIC5jcmVhdGVDYXJkKHsgbmFtZTogZGF0YS5kZXNjcmlwdGlvbiwgbGluazogZGF0YS5saW5rIH0pXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgc2VjdGlvbi5hZGRJdGVtKGNyZWF0ZU5ld0NhcmQocmVzKSk7XG4gICAgICBhZGRDYXJkTW9kYWwuY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxuICAgIC5maW5hbGx5KCh0ZXh0KSA9PiB7XG4gICAgICBhZGRDYXJkTW9kYWwuY2hhbmdlQnV0dG9uVGV4dCh0ZXh0ID0gXCJTYXZlXCIpXG4gICAgfSk7XG59KTtcbmFkZENhcmRNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5Qcm9taXNlLmFsbChbYXBpLmdldEluaXRpYWxDYXJkcygpLCBhcGkuZ2V0VXNlckluZm8oKV0pXG4gIC50aGVuKChbY2FyZERhdGEsIHVzZXJEYXRhXSkgPT4ge1xuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHsgbmFtZTogdXNlckRhdGEubmFtZSwgYWJvdXQ6IHVzZXJEYXRhLmFib3V0IH0pO1xuICAgIHNlY3Rpb24ucmVuZGVyKGNhcmREYXRhKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IHtcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xuICB9KVxuICAuZmluYWxseSgodGV4dCkgPT57XG4gICAgZWRpdE1vZGFsLmNoYW5nZUJ1dHRvblRleHQodGV4dCA9XCJTYXZlXCIpO1xufSk7XG5cbmNvbnN0IHNlY3Rpb24gPSBuZXcgU2VjdGlvbihcbiAge1xuICAgIHJlbmRlcmVyOiAoY2FyZERhdGEpID0+IHtcbiAgICAgIHNlY3Rpb24uYWRkSXRlbShjcmVhdGVOZXdDYXJkKGNhcmREYXRhKSk7XG4gICAgfSxcbiAgfSxcbiAgXCIuZWxlbWVudHNfX2xpc3RcIlxuKTtcblxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xuICBwcm9maWxlTmFtZVNlbGVjdG9yOiBcIi5wcm9maWxlX19hdXRob3JcIixcbiAgcHJvZmlsZUpvYlNlbGVjdG9yOiBcIi5wcm9maWxlX190ZXh0XCIsXG4gIGF2YXRhclNlbGVjdG9yOiBcIi5wcm9maWxlX19pbWFnZVwiLFxufSk7XG5cbmZ1bmN0aW9uIGNyZWF0ZU5ld0NhcmQoZGF0YSkge1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoXG4gICAge1xuICAgICAgZGF0YSxcbiAgICAgIGhhbmRsZUNhcmRDbGljazogKG5hbWUsIGxpbmspID0+IHtcbiAgICAgICAgaW1hZ2VNb2RhbC5vcGVuKG5hbWUsIGxpbmspO1xuICAgICAgfSxcbiAgICAgIGhhbmRsZURlbGV0ZUJ1dHRvbjogKGNhcmRJZCkgPT4ge1xuICAgICAgICBjb25maXJtTW9kYWwub3BlbihjYXJkSWQpO1xuICAgICAgICBjb25maXJtTW9kYWwuc2V0QWN0aW9uKCgpID0+IHtcbiAgICAgICAgICBhcGlcbiAgICAgICAgICAgIC5kZWxldGVDYXJkKGNhcmRJZClcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgY2FyZC5yZW1vdmVDYXJkKCk7XG4gICAgICAgICAgICAgIGNvbmZpcm1Nb2RhbC5jbG9zZSgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgaGFuZGxlTGlrZUJ1dHRvbjogKGxpa2VCdXR0b24sIGlkKSA9PiB7XG4gICAgICAgIGlmIChsaWtlQnV0dG9uLmNsYXNzTGlzdC5jb250YWlucyhcImVsZW1lbnRfX2J1dHRvbl9hY3RpdmVcIikpIHtcbiAgICAgICAgICBhcGlcbiAgICAgICAgICAgIC5kaXNsaWtlQ2FyZChpZClcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgY2FyZC5kaXNwbGF5VG90YWxMaWtlcyhyZXMubGlrZXMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgY2FyZC50b2dnbGVMaWtlQnV0dG9uKGxpa2VCdXR0b24pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhcGlcbiAgICAgICAgICAgIC5saWtlQ2FyZChpZClcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgY2FyZC5kaXNwbGF5VG90YWxMaWtlcyhyZXMubGlrZXMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgY2FyZC50b2dnbGVMaWtlQnV0dG9uKGxpa2VCdXR0b24pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9LFxuICAgIGlkLFxuICAgIFwiI2NhcmQtdGVtcGxhdGVcIlxuICApO1xuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuZ2VuZXJhdGVDYXJkKCk7XG4gIHJldHVybiBjYXJkRWxlbWVudDtcbn1cblxuZnVuY3Rpb24gZmlsbFByb2ZpbGVGb3JtKCkge1xuICBjb25zdCB1c2VyRGF0YSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIHByb2ZpbGVJbnB1dE5hbWUudmFsdWUgPSB1c2VyRGF0YS5uYW1lO1xuICBwcm9maWxlSW5wdXRBYm91dC52YWx1ZSA9IHVzZXJEYXRhLmpvYjtcbn1cblxuZWRpdFByb2ZpbGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgZm9ybVZhbGlkYXRvcnNbcHJvZmlsZUZvcm0uZ2V0QXR0cmlidXRlKFwibmFtZVwiKV0ucmVzZXRWYWxpZGF0aW9uKCk7XG4gIGZpbGxQcm9maWxlRm9ybSgpO1xuICBlZGl0TW9kYWwub3BlbigpO1xufSk7XG5cbnBsdXNQcm9maWxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGZvcm1WYWxpZGF0b3JzW2NhcmRGb3JtLmdldEF0dHJpYnV0ZShcIm5hbWVcIildLnJlc2V0VmFsaWRhdGlvbigpO1xuICBhZGRDYXJkTW9kYWwub3BlbigpO1xufSk7XG5cbmVkaXRBdmF0YXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgZm9ybVZhbGlkYXRvcnNbYXZhdGFyRm9ybS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpXS5yZXNldFZhbGlkYXRpb24oKTtcbiAgYXZhdGFyRWRpdE1vZGFsLm9wZW4oKTtcbn0pO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcbiAgfVxuXG4gIF9jaGVja1Jlc3BvbnNlKHJlcykge1xuICAgIHJldHVybiByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoXCJFcnJvciFcIiArIHJlcy5zdGF0dXNUZXh0KTtcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pXG4gICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSlcbiAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKVxuICB9XG5cbiAgY3JlYXRlQ2FyZCh7IG5hbWUsIGxpbmsgfSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lLFxuICAgICAgICBsaW5rLFxuICAgICAgfSksXG4gICAgfSlcbiAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKVxuICB9XG5cbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KVxuICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXG4gIH1cblxuICBsaWtlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KVxuICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXG4gIH1cblxuICBkaXNsaWtlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KVxuICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXG4gIH1cblxuICBjaGFuZ2VBdmF0YXIoYXZhdGFyKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgYXZhdGFyLFxuICAgICAgfSksXG4gICAgfSlcbiAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKVxuICB9XG59XG4iLCJleHBvcnQgY29uc3QgcGFnZVNldHRpbmdzID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX2J1dHRvblwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19idXR0b25fZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwicG9wdXBfX2Vycm9yX3Zpc2libGVcIixcbn07XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoU3VibWl0IGV4dGVuZHMgUG9wdXAge1xuICBzZXRBY3Rpb24oYWN0aW9uKSB7XG4gICAgdGhpcy5fc3VibWl0SGFuZGxlciA9IGFjdGlvbjtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX3N1Ym1pdEhhbmRsZXIodGhpcy5fZm9ybSk7XG4gICAgfSk7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBvcGVuKG5hbWUsIGxpbmspIHtcbiAgICB0aGlzLl9pbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlXCIpO1xuICAgIHRoaXMuX2NhcHRpb24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19kZXNjcmlwdGlvblwiKTtcbiAgICB0aGlzLl9jYXB0aW9uLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl9pbWFnZS5hbHQgPSBgUGhvdG8gb2YgJHtuYW1lfWA7XG4gICAgdGhpcy5faW1hZ2Uuc3JjID0gbGluaztcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgfVxuXG4gIGFkZEl0ZW0oY2FyZCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGNhcmQpO1xuICB9XG5cbiAgcmVuZGVyKGl0ZW1zKSB7XG4gICAgaXRlbXMuZm9yRWFjaCgoZGF0YSkgPT4ge1xuICAgICAgdGhpcy5fcmVuZGVyZXIoZGF0YSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IoeyBwcm9maWxlTmFtZVNlbGVjdG9yLCBwcm9maWxlSm9iU2VsZWN0b3IsIGF2YXRhclNlbGVjdG9yIH0pIHtcbiAgICB0aGlzLl9wcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZU5hbWVTZWxlY3Rvcik7XG4gICAgdGhpcy5fcHJvZmlsZUpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZUpvYlNlbGVjdG9yKTtcbiAgICB0aGlzLl9hdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKTtcbiAgfVxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5fcHJvZmlsZU5hbWUudGV4dENvbnRlbnQsXG4gICAgICBqb2I6IHRoaXMuX3Byb2ZpbGVKb2IudGV4dENvbnRlbnQsXG4gICAgfTtcbiAgfVxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGFib3V0IH0pIHtcbiAgICB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5fcHJvZmlsZUpvYi50ZXh0Q29udGVudCA9IGFib3V0O1xuICB9XG5cbiAgZ2V0VXNlckF2YXRhcigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYXZhdGFyOiB0aGlzLl9hdmF0YXIuc3JjLFxuICAgIH07XG4gIH1cbiAgc2V0VXNlckF2YXRhcih7IGF2YXRhciB9KSB7XG4gICAgdGhpcy5fYXZhdGFyLnNyYyA9IGF2YXRhcjtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwicCIsIkNhcmQiLCJjb25zdHJ1Y3RvciIsInVzZXJJZCIsImNhcmRTZWxlY3RvciIsImRhdGEiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVEZWxldGVCdXR0b24iLCJoYW5kbGVMaWtlQnV0dG9uIiwidGhpcyIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZURlbGV0ZUJ1dHRvbiIsIl9oYW5kbGVMaWtlQnV0dG9uIiwiX2lkIiwiX293bmVyIiwib3duZXIiLCJfdXNlcklkIiwiX2xpa2VzIiwibGlrZXMiLCJfbGlrZXNBbW91bnQiLCJsZW5ndGgiLCJfZ2V0VGVtcGxhdGUiLCJfZWxlbWVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJyZW1vdmVDYXJkIiwicmVtb3ZlIiwiX2dldElkIiwiX2RlbGV0ZUJ1dHRvbiIsImNhcmRUcmFzaEJ1dHRvbiIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9lbGVtZW50QmluIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9saWtlQnV0dG9uIiwiX2VsZW1lbnRQaWN0dXJlIiwidG9nZ2xlTGlrZUJ1dHRvbiIsImxpa2VCdXR0b24iLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJkaXNwbGF5VG90YWxMaWtlcyIsInRvdGFsTGlrZXMiLCJfY291bnRlciIsInRleHRDb250ZW50IiwiX2hhbmRsZUNhcmRMaWtlcyIsIkFycmF5IiwiZnJvbSIsImZvckVhY2giLCJlbGVtZW50IiwiYWRkIiwiZ2VuZXJhdGVDYXJkIiwic3JjIiwiYWx0IiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiZSIsImtleSIsImNsb3NlIiwiX3BvcHVwIiwib3BlbiIsIl9oYW5kbGVFc2NhcGVDbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzZXRFdmVudExpc3RlbmVycyIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZVN1Ym1pdCIsInN1cGVyIiwiX2hhbmRsZVN1Ym1pdCIsIl9mb3JtIiwiX3N1Ym1pdEJ1dHRvbiIsIl9pbnB1dHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2dldElucHV0VmFsdWVzIiwiaW5wdXRWYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwiY2hhbmdlQnV0dG9uVGV4dCIsInRleHQiLCJwcmV2ZW50RGVmYXVsdCIsInJlc2V0IiwiRm9ybVZhbGlkYXRvciIsInNldHRpbmdzIiwiZm9ybUVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJfZXJyb3JFbGVtZW50IiwiX2Zvcm1FbGVtZW50IiwiaWQiLCJfaW5wdXRFcnJvckNsYXNzIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfZXJyb3JDbGFzcyIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJpbnB1dHNMaXN0Iiwic29tZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfaW5wdXRzTGlzdCIsIl9lbGVtZW50QnV0dG9uIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJfaW5wdXRTZWxlY3RvciIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJldnQiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsInBsdXNQcm9maWxlQnV0dG9uIiwicHJvZmlsZUZvcm0iLCJlZGl0UHJvZmlsZUJ1dHRvbiIsImNhcmRGb3JtIiwicHJvZmlsZUlucHV0TmFtZSIsInByb2ZpbGVJbnB1dEFib3V0IiwiZWRpdEF2YXRhckJ1dHRvbiIsImF2YXRhckZvcm0iLCJnZXRFbGVtZW50QnlJZCIsImhlYWRlclNyYyIsInByb2ZpbGVTcmMiLCJhcGkiLCJiYXNlVXJsIiwiaGVhZGVycyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJfY2hlY2tSZXNwb25zZSIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXNUZXh0IiwiZ2V0SW5pdGlhbENhcmRzIiwiZmV0Y2giLCJ0aGVuIiwiZ2V0VXNlckluZm8iLCJjcmVhdGVDYXJkIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJkZWxldGVDYXJkIiwiY2FyZElkIiwibGlrZUNhcmQiLCJkaXNsaWtlQ2FyZCIsImNoYW5nZUF2YXRhciIsImF2YXRhciIsImF1dGhvcml6YXRpb24iLCJmb3JtVmFsaWRhdG9ycyIsImNvbmZpZyIsImZvcm1TZWxlY3RvciIsInZhbGlkYXRvciIsImZvcm1OYW1lIiwiZ2V0QXR0cmlidXRlIiwiZW5hYmxlVmFsaWRhdGlvbiIsImNvbmZpcm1Nb2RhbCIsInNldEFjdGlvbiIsImFjdGlvbiIsIl9zdWJtaXRIYW5kbGVyIiwiaW1hZ2VNb2RhbCIsIl9pbWFnZSIsIl9jYXB0aW9uIiwiZWRpdE1vZGFsIiwidXNlckluZm8iLCJzZXRVc2VySW5mbyIsImF2YXRhckVkaXRNb2RhbCIsInNldFVzZXJBdmF0YXIiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJmaW5hbGx5IiwiYWRkQ2FyZE1vZGFsIiwiZGVzY3JpcHRpb24iLCJzZWN0aW9uIiwiYWRkSXRlbSIsImNyZWF0ZU5ld0NhcmQiLCJhbGwiLCJjYXJkRGF0YSIsInVzZXJEYXRhIiwiYWJvdXQiLCJyZW5kZXIiLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImNhcmQiLCJwcmVwZW5kIiwiaXRlbXMiLCJwcm9maWxlTmFtZVNlbGVjdG9yIiwicHJvZmlsZUpvYlNlbGVjdG9yIiwiYXZhdGFyU2VsZWN0b3IiLCJfcHJvZmlsZU5hbWUiLCJfcHJvZmlsZUpvYiIsIl9hdmF0YXIiLCJqb2IiLCJnZXRVc2VyQXZhdGFyIiwicmVzZXRWYWxpZGF0aW9uIiwiZmlsbFByb2ZpbGVGb3JtIl0sInNvdXJjZVJvb3QiOiIifQ==